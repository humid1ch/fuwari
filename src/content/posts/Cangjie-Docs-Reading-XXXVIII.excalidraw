{"type":"excalidraw","elements":[{"id":"bqe3e5w5m9s47tcstg12p","type":"rectangle","x":100,"y":11692.5,"width":258.4,"height":95,"angle":0,"strokeColor":"#C62828","backgroundColor":"#FFEBEE","fillStyle":"solid","strokeWidth":3,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"gn3htfmn1ua7de86umjwom"},{"type":"arrow","id":"tlmz4uhzw3g0cwtj5qvzn2d"},{"type":"text","id":"zmn5cwf95n891ydr4t1rn9"}],"version":2,"versionNonce":567751730,"index":"a0","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"link":null,"locked":false},{"id":"zmn5cwf95n891ydr4t1rn9","type":"text","x":150,"y":11717.5,"width":158.4,"height":45,"angle":0,"strokeColor":"#B71C1C","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"ROOT","text":"ROOT","fontSize":36,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"bqe3e5w5m9s47tcstg12p","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":1904926702,"index":"a1","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"6bz75jull9so9knh8ohrji","type":"rectangle","x":478.4,"y":800,"width":3149.2000000000003,"height":320,"angle":0,"strokeColor":"#283593","backgroundColor":"#E8EAF6","fillStyle":"solid","strokeWidth":2.7,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"gn3htfmn1ua7de86umjwom"},{"type":"arrow","id":"5bchvntzbqb6x1oagr4epf"},{"type":"arrow","id":"94v25fkytnr8ng50ukwttc"},{"type":"arrow","id":"8k8sp5qwzj2dn94zgdzez"},{"type":"arrow","id":"fxe4potl35lmkwb4c2a7sl"},{"type":"text","id":"xx0poqvcfv813zeik2yfdr"}],"version":2,"versionNonce":1761992178,"index":"a2","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"link":null,"locked":false},{"id":"xx0poqvcfv813zeik2yfdr","type":"text","x":528.4,"y":825,"width":3049.2000000000003,"height":270,"angle":0,"strokeColor":"#1A237E","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"title: \"仓颉文档阅读-开发指南IV: 函数(III) - 嵌套函数、Lambda表达式 以及 闭包\"\npublished: 2025-11-04 15:29:32\ndescription: \"仓颉文档阅读的开发指南部分, 本篇文章介绍仓颉语言的函数相关内容\"\nimage: \"https://humid1ch.oss-cn-shanghai.aliyuncs.com/20250929154944807.webp\"\ntags: [\"开发语言\", \"仓颉\"]\ncategory: Blogs","text":"title: \"仓颉文档阅读-开发指南IV: 函数(III) - 嵌套函数、Lambda表达式 以及 闭包\"\npublished: 2025-11-04 15:29:32\ndescription: \"仓颉文档阅读的开发指南部分, 本篇文章介绍仓颉语言的函数相关内容\"\nimage: \"https://humid1ch.oss-cn-shanghai.aliyuncs.com/20250929154944807.webp\"\ntags: [\"开发语言\", \"仓颉\"]\ncategory: Blogs","fontSize":36,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"6bz75jull9so9knh8ohrji","autoResize":true,"lineHeight":1.25,"lineCount":6,"version":2,"versionNonce":2034545198,"index":"a3","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"gn3htfmn1ua7de86umjwom","type":"arrow","x":358.4,"y":11740,"width":120,"height":10780,"angle":0,"strokeColor":"#283593","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.8,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[60,0],[60,-10780],[120,-10780]],"startBinding":{"elementId":"bqe3e5w5m9s47tcstg12p","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"6bz75jull9so9knh8ohrji","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":809062322,"index":"a4","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"0s3s4yt0gmxggrsc87mh33s","type":"embeddable","x":3747.6000000000004,"y":100,"width":600,"height":400,"angle":0,"strokeColor":"#2E7D32","backgroundColor":"#E8F5E9","fillStyle":"solid","strokeWidth":2.4,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"5bchvntzbqb6x1oagr4epf"},{"type":"text","id":"ltfyacb7xpc3eddpsd7a5"}],"link":"demo.md","customData":{"jsonValue":{"type":"blockquote","content":[{"type":"paragraph","content":[{"type":"text","text":"[!NOTE]"}]},{"type":"paragraph","content":[{"type":"text","text":"阅读文档版本:"}]},{"type":"paragraph","content":[{"type":"text","text":"语言规约 "},{"type":"text","marks":[{"type":"link","attrs":{"href":"https://cangjie-lang.cn/docs?url=/0.53.18/Spec/source_zh_cn/Chapter_01_Lexical_Structure(zh).html","title":null}}],"text":"Cangjie-0.53.18-Spec"}]},{"type":"paragraph","content":[{"type":"text","text":"具体开发指南 "},{"type":"text","marks":[{"type":"link","attrs":{"href":"https://cangjie-lang.cn/docs?url=/1.0.3/index.html","title":null}}],"text":"Cangjie-LTS-1.0.3"}]},{"type":"paragraph","content":[{"type":"text","text":"在阅读 了解仓颉的语言规约时, 难免会涉及到一些仓颉的示例代码, 但 我们对仓颉并不熟悉, 所以可以用 "},{"type":"text","marks":[{"type":"link","attrs":{"href":"https://cangjie-lang.cn/playground","title":null}}],"text":"仓颉在线体验"},{"type":"text","text":" 快速验证"}]},{"type":"paragraph","content":[{"type":"text","text":"有条件当然可以直接 "},{"type":"text","marks":[{"type":"link","attrs":{"href":"https://cangjie-lang.cn/download/1.0.3","title":null}}],"text":"配置 Canjie-SDK"}]}]}},"version":2,"versionNonce":109722734,"index":"a5","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"ltfyacb7xpc3eddpsd7a5","type":"text","x":3862.8,"y":282.5,"width":369.6,"height":35,"angle":0,"strokeColor":"#1B5E20","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[blockquote]","text":"[blockquote]","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"0s3s4yt0gmxggrsc87mh33s","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":731416946,"index":"a6","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"5bchvntzbqb6x1oagr4epf","type":"arrow","x":3627.6000000000004,"y":960,"width":120,"height":660,"angle":0,"strokeColor":"#2E7D32","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.6,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[60,0],[60,-660],[120,-660]],"startBinding":{"elementId":"6bz75jull9so9knh8ohrji","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"0s3s4yt0gmxggrsc87mh33s","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":1596227246,"index":"a7","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"dlay4cb1cxaijb4seqyqbp","type":"embeddable","x":3747.6000000000004,"y":540,"width":600,"height":400,"angle":0,"strokeColor":"#2E7D32","backgroundColor":"#E8F5E9","fillStyle":"solid","strokeWidth":2.4,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"94v25fkytnr8ng50ukwttc"},{"type":"text","id":"ti9ve95yvchnmfboluui1e"}],"link":"demo.md","customData":{"jsonValue":{"type":"blockquote","content":[{"type":"paragraph","content":[{"type":"text","text":"[!WARNING]"}]},{"type":"paragraph","content":[{"type":"text","text":"博主在此之前, 基本只接触过 C/C++语言, 对大多现代语言都没有了解, 所以在阅读过程中遇到相似的概念, 难免会与 C/C++中的相似概念作类比, 见谅"}]},{"type":"paragraph","content":[{"type":"text","text":"且, 本系列是文档阅读, 而不是仓颉的零基础教学, 所以如果要跟着阅读的话最好有一门编程语言的开发经验"}]}]}},"version":2,"versionNonce":1919585074,"index":"a8","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"ti9ve95yvchnmfboluui1e","type":"text","x":3862.8,"y":722.5,"width":369.6,"height":35,"angle":0,"strokeColor":"#1B5E20","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[blockquote]","text":"[blockquote]","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"dlay4cb1cxaijb4seqyqbp","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":666663150,"index":"a9","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"94v25fkytnr8ng50ukwttc","type":"arrow","x":3627.6000000000004,"y":960,"width":120,"height":220,"angle":0,"strokeColor":"#2E7D32","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.6,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[60,0],[60,-220],[120,-220]],"startBinding":{"elementId":"6bz75jull9so9knh8ohrji","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"dlay4cb1cxaijb4seqyqbp","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":454448370,"index":"aA","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"3yyo8z4dn0gxn1wsifrrd","type":"embeddable","x":3747.6000000000004,"y":980,"width":600,"height":400,"angle":0,"strokeColor":"#2E7D32","backgroundColor":"#E8F5E9","fillStyle":"solid","strokeWidth":2.4,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"8k8sp5qwzj2dn94zgdzez"},{"type":"text","id":"1dhtqsr5x5rkccezcdzle"}],"link":"demo.md","customData":{"jsonValue":{"type":"blockquote","content":[{"type":"paragraph","content":[{"type":"text","text":"[!WARNING]"}]},{"type":"paragraph","content":[{"type":"text","text":"在阅读仓颉编程语言的开发指南之前, 已经大概阅读了一遍 仓颉编程语言的语言规约，已经对仓颉编程语言有了一个大概的了解"}]},{"type":"paragraph","content":[{"type":"text","text":"所以在阅读开发指南时，不会对类似: 类、函数、结构体、接口等解释起来较为复杂名称 做出解释"}]}]}},"version":2,"versionNonce":131803950,"index":"aB","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"1dhtqsr5x5rkccezcdzle","type":"text","x":3862.8,"y":1162.5,"width":369.6,"height":35,"angle":0,"strokeColor":"#1B5E20","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[blockquote]","text":"[blockquote]","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"3yyo8z4dn0gxn1wsifrrd","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":1461905074,"index":"aC","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"8k8sp5qwzj2dn94zgdzez","type":"arrow","x":3627.6000000000004,"y":960,"width":120,"height":220,"angle":0,"strokeColor":"#2E7D32","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.6,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[60,0],[60,220],[120,220]],"startBinding":{"elementId":"6bz75jull9so9knh8ohrji","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"3yyo8z4dn0gxn1wsifrrd","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":1307153774,"index":"aD","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"k86tqrj11yox70ovykocd","type":"embeddable","x":3747.6000000000004,"y":1420,"width":600,"height":400,"angle":0,"strokeColor":"#2E7D32","backgroundColor":"#E8F5E9","fillStyle":"solid","strokeWidth":2.4,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"fxe4potl35lmkwb4c2a7sl"},{"type":"text","id":"2w7s62y0iidqm1h7qnzpz"}],"link":"demo.md","customData":{"jsonValue":{"type":"blockquote","content":[{"type":"paragraph","content":[{"type":"text","text":"此样式内容, 表示文档原文内容"}]}]}},"version":2,"versionNonce":255279218,"index":"aE","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"2w7s62y0iidqm1h7qnzpz","type":"text","x":3862.8,"y":1602.5,"width":369.6,"height":35,"angle":0,"strokeColor":"#1B5E20","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[blockquote]","text":"[blockquote]","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"k86tqrj11yox70ovykocd","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":321959854,"index":"aF","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"fxe4potl35lmkwb4c2a7sl","type":"arrow","x":3627.6000000000004,"y":960,"width":120,"height":660,"angle":0,"strokeColor":"#2E7D32","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.6,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[60,0],[60,660],[120,660]],"startBinding":{"elementId":"6bz75jull9so9knh8ohrji","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"k86tqrj11yox70ovykocd","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":2132435506,"index":"aG","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"hl96dqo36wwqazx96k98","type":"rectangle","x":478.4,"y":12572.5,"width":179.2,"height":95,"angle":0,"strokeColor":"#283593","backgroundColor":"#E8EAF6","fillStyle":"solid","strokeWidth":2.7,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"tlmz4uhzw3g0cwtj5qvzn2d"},{"type":"arrow","id":"9xj1vwlrlptqfl6igjh0at"},{"type":"arrow","id":"k3jyacn3lwdb6korl5n8xc"},{"type":"arrow","id":"k4is3nw9bvn5rjojujk41a"},{"type":"text","id":"13h1t9ieb70nlvv4c3x4b8n"}],"version":2,"versionNonce":1608094190,"index":"aH","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"link":null,"locked":false},{"id":"13h1t9ieb70nlvv4c3x4b8n","type":"text","x":528.4,"y":12597.5,"width":79.2,"height":45,"angle":0,"strokeColor":"#1A237E","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"函数","text":"函数","fontSize":36,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"hl96dqo36wwqazx96k98","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":1370704882,"index":"aI","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"tlmz4uhzw3g0cwtj5qvzn2d","type":"arrow","x":358.4,"y":11740,"width":120,"height":880,"angle":0,"strokeColor":"#283593","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.8,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[60,0],[60,880],[120,880]],"startBinding":{"elementId":"bqe3e5w5m9s47tcstg12p","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"hl96dqo36wwqazx96k98","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":1324164142,"index":"aJ","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"ifaith56l6za4wag9eb5","type":"rectangle","x":3747.6000000000004,"y":2682.5,"width":203.20000000000002,"height":75,"angle":0,"strokeColor":"#2E7D32","backgroundColor":"#E8F5E9","fillStyle":"solid","strokeWidth":2.4,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"9xj1vwlrlptqfl6igjh0at"},{"type":"arrow","id":"1l5qve7zgqj0t6x2gzd12h"},{"type":"arrow","id":"0w5cvczm1u2ghutca84pmi"},{"type":"arrow","id":"nqvzuh1rrfnixj9ysspfmf"},{"type":"arrow","id":"h49e2jiaihfyxlav0ma77"},{"type":"text","id":"ebsfrlmpj149im66m5lujh"}],"version":2,"versionNonce":1023999410,"index":"aK","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"link":null,"locked":false},{"id":"ebsfrlmpj149im66m5lujh","type":"text","x":3787.6000000000004,"y":2702.5,"width":123.20000000000002,"height":35,"angle":0,"strokeColor":"#1B5E20","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"嵌套函数","text":"嵌套函数","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"ifaith56l6za4wag9eb5","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":844394094,"index":"aL","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"9xj1vwlrlptqfl6igjh0at","type":"arrow","x":657.5999999999999,"y":12620,"width":3090.0000000000005,"height":9900,"angle":0,"strokeColor":"#2E7D32","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.6,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[1545.0000000000005,0],[1545.0000000000005,-9900],[3090.0000000000005,-9900]],"startBinding":{"elementId":"hl96dqo36wwqazx96k98","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"ifaith56l6za4wag9eb5","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":507672434,"index":"aM","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"zjq2erqzl4bqhb61uupmq","type":"embeddable","x":4467.6,"y":1860,"width":600,"height":400,"angle":0,"strokeColor":"#F9A825","backgroundColor":"#FFF8E1","fillStyle":"solid","strokeWidth":2.1,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"1l5qve7zgqj0t6x2gzd12h"},{"type":"text","id":"dmex7qg2yosy3lnyzjseul"}],"link":"demo.md","customData":{"jsonValue":{"type":"blockquote","content":[{"type":"paragraph","content":[{"type":"text","text":"定义在源文件顶层的函数被称为"},{"type":"text","marks":[{"type":"strong"}],"text":"全局函数"}]},{"type":"paragraph","content":[{"type":"text","text":"定义在函数体内的函数被称为"},{"type":"text","marks":[{"type":"strong"}],"text":"嵌套函数"}]},{"type":"paragraph","content":[{"type":"text","text":"示例，函数 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"foo"},{"type":"text","text":" 内定义了一个嵌套函数 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"nestAdd"},{"type":"text","text":"，可以在 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"foo"},{"type":"text","text":" 内调用该嵌套函数 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"nestAdd"},{"type":"text","text":"，也可以将嵌套函数 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"nestAdd"},{"type":"text","text":" 作为返回值返回，在 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"foo"},{"type":"text","text":" 外对其进行调用："}]},{"type":"code_fence","attrs":{"language":"cangjie"},"content":[{"type":"text","text":"func foo() {\n    func nestAdd(a: Int64, b: Int64) {\n        a + b + 3\n    }\n\n    println(nestAdd(1, 2))  // 6\n\n    return nestAdd\n}\n\nmain() {\n    let f = foo()\n    let x = f(1, 2)\n    println(\"result: ${x}\")\n}"}]},{"type":"paragraph","content":[{"type":"text","text":"程序会输出："}]},{"type":"code_fence","attrs":{"language":"text"},"content":[{"type":"text","text":"6\nresult: 6"}]}]}},"version":2,"versionNonce":920154286,"index":"aN","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"dmex7qg2yosy3lnyzjseul","type":"text","x":4582.8,"y":2042.5,"width":369.6,"height":35,"angle":0,"strokeColor":"#E65100","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[blockquote]","text":"[blockquote]","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"zjq2erqzl4bqhb61uupmq","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":363247922,"index":"aO","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"1l5qve7zgqj0t6x2gzd12h","type":"arrow","x":3950.8,"y":2720,"width":516.8000000000002,"height":660,"angle":0,"strokeColor":"#F9A825","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.4,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[258.40000000000055,0],[258.40000000000055,-660],[516.8000000000002,-660]],"startBinding":{"elementId":"ifaith56l6za4wag9eb5","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"zjq2erqzl4bqhb61uupmq","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":136456942,"index":"aP","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"g9vfhgox2ftjt44lp1bra","type":"embeddable","x":4467.6,"y":2300,"width":600,"height":400,"angle":0,"strokeColor":"#F9A825","backgroundColor":"#FFF8E1","fillStyle":"solid","strokeWidth":2.1,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"0w5cvczm1u2ghutca84pmi"},{"type":"text","id":"hno4qz22nc74hzdb8jj0wb"}],"link":"demo.md","customData":{"jsonValue":{"type":"paragraph","content":[{"type":"text","text":"仓颉函数, 除了在函数外(源文件顶层或结构体、类内)定义, 即 全局函数 或 成员函数"}]}},"version":2,"versionNonce":580698866,"index":"aQ","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"hno4qz22nc74hzdb8jj0wb","type":"text","x":4598.200000000001,"y":2482.5,"width":338.80000000000007,"height":35,"angle":0,"strokeColor":"#E65100","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[paragraph]","text":"[paragraph]","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"g9vfhgox2ftjt44lp1bra","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":1958386990,"index":"aR","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"0w5cvczm1u2ghutca84pmi","type":"arrow","x":3950.8,"y":2720,"width":516.8000000000002,"height":220,"angle":0,"strokeColor":"#F9A825","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.4,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[258.40000000000055,0],[258.40000000000055,-220],[516.8000000000002,-220]],"startBinding":{"elementId":"ifaith56l6za4wag9eb5","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"g9vfhgox2ftjt44lp1bra","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":1068209330,"index":"aS","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"k8xyiwfl57a6mmoqx3ha1i","type":"embeddable","x":4467.6,"y":2740,"width":600,"height":400,"angle":0,"strokeColor":"#F9A825","backgroundColor":"#FFF8E1","fillStyle":"solid","strokeWidth":2.1,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"nqvzuh1rrfnixj9ysspfmf"},{"type":"text","id":"2m913whztwskkmxci6cfc"}],"link":"demo.md","customData":{"jsonValue":{"type":"paragraph","content":[{"type":"text","text":"还可以在函数体内定义, 这样在函数体内定义的函数被称为 嵌套函数"}]}},"version":2,"versionNonce":302696302,"index":"aT","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"2m913whztwskkmxci6cfc","type":"text","x":4598.200000000001,"y":2922.5,"width":338.80000000000007,"height":35,"angle":0,"strokeColor":"#E65100","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[paragraph]","text":"[paragraph]","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"k8xyiwfl57a6mmoqx3ha1i","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":2121936498,"index":"aU","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"nqvzuh1rrfnixj9ysspfmf","type":"arrow","x":3950.8,"y":2720,"width":516.8000000000002,"height":220,"angle":0,"strokeColor":"#F9A825","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.4,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[258.40000000000055,0],[258.40000000000055,220],[516.8000000000002,220]],"startBinding":{"elementId":"ifaith56l6za4wag9eb5","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"k8xyiwfl57a6mmoqx3ha1i","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":1616619950,"index":"aV","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"muf9vc4jzrv1whv3r65g","type":"embeddable","x":4467.6,"y":3180,"width":600,"height":400,"angle":0,"strokeColor":"#F9A825","backgroundColor":"#FFF8E1","fillStyle":"solid","strokeWidth":2.1,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"h49e2jiaihfyxlav0ma77"},{"type":"text","id":"n48rhg8qa58k621hosghv"}],"link":"demo.md","customData":{"jsonValue":{"type":"paragraph","content":[{"type":"text","marks":[{"type":"strong"}],"text":"嵌套函数"},{"type":"text","text":"可以直接在函数中"},{"type":"text","marks":[{"type":"strong"}],"text":"被调用"},{"type":"text","text":", 还可以"},{"type":"text","marks":[{"type":"strong"}],"text":"作为函数的返回值返回"}]}},"version":2,"versionNonce":600805426,"index":"aW","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"n48rhg8qa58k621hosghv","type":"text","x":4598.200000000001,"y":3362.5,"width":338.80000000000007,"height":35,"angle":0,"strokeColor":"#E65100","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[paragraph]","text":"[paragraph]","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"muf9vc4jzrv1whv3r65g","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":1859535854,"index":"aX","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"h49e2jiaihfyxlav0ma77","type":"arrow","x":3950.8,"y":2720,"width":516.8000000000002,"height":660,"angle":0,"strokeColor":"#F9A825","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.4,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[258.40000000000055,0],[258.40000000000055,660],[516.8000000000002,660]],"startBinding":{"elementId":"ifaith56l6za4wag9eb5","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"muf9vc4jzrv1whv3r65g","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":1133689330,"index":"aY","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"6ieza6dbw4gg9m3n5m3ldt","type":"rectangle","x":3747.6000000000004,"y":8385,"width":264.8,"height":110,"angle":0,"strokeColor":"#2E7D32","backgroundColor":"#E8F5E9","fillStyle":"solid","strokeWidth":2.4,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"k3jyacn3lwdb6korl5n8xc"},{"type":"arrow","id":"e76slybik7bupq5e7157u"},{"type":"arrow","id":"4yuc1jgvauogq7e1ih3vy7"},{"type":"text","id":"zgc5sac5zpnb84f2g3tjsn"}],"version":2,"versionNonce":2139330094,"index":"aZ","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"link":null,"locked":false},{"id":"zgc5sac5zpnb84f2g3tjsn","type":"text","x":3787.6000000000004,"y":8405,"width":184.8,"height":70,"angle":0,"strokeColor":"#1B5E20","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"Lambda\n表达式","text":"Lambda\n表达式","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"6ieza6dbw4gg9m3n5m3ldt","autoResize":true,"lineHeight":1.25,"lineCount":2,"version":2,"versionNonce":1556786098,"index":"aa","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"k3jyacn3lwdb6korl5n8xc","type":"arrow","x":657.5999999999999,"y":12620,"width":3090.0000000000005,"height":4180,"angle":0,"strokeColor":"#2E7D32","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.6,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[1545.0000000000005,0],[1545.0000000000005,-4180],[3090.0000000000005,-4180]],"startBinding":{"elementId":"hl96dqo36wwqazx96k98","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"6ieza6dbw4gg9m3n5m3ldt","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":726442094,"index":"ab","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"3wyzflkoji3cimo3wv6ph5","type":"rectangle","x":4467.6,"y":7945,"width":264.8,"height":110,"angle":0,"strokeColor":"#F9A825","backgroundColor":"#FFF8E1","fillStyle":"solid","strokeWidth":2.1,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"e76slybik7bupq5e7157u"},{"type":"arrow","id":"b7sufevm24c7tp2bdjyie4"},{"type":"arrow","id":"52mxfyintpk2p8g89in23"},{"type":"arrow","id":"jx76kq580bhvf09nfmzzi"},{"type":"arrow","id":"anuku9scgpphou9nocjxeq"},{"type":"arrow","id":"r6hzw2yyubjjfisp49pemg"},{"type":"arrow","id":"79g7dl0el3h88fc5s6bo1d"},{"type":"arrow","id":"07si87yp9dglbhrsfo7twf"},{"type":"arrow","id":"r9qe67jqrfb9o1fogxmwnr"},{"type":"arrow","id":"xcqgebtvk6fzicfbbte9uq"},{"type":"arrow","id":"gl72fucqls8b8six5fy98o"},{"type":"arrow","id":"iqcwj0f9thh4c7o4uaevxs"},{"type":"arrow","id":"5z1csoh8w6itejxf3xxkr"},{"type":"arrow","id":"4xj8vh2n0y9ibhvn8x9mt8"},{"type":"arrow","id":"rsq4ymcp8p7kzc3uymrky"},{"type":"arrow","id":"wm32fk1q95rpgyhd4ng79k"},{"type":"arrow","id":"913ojam97cjn3gyi8vnk2b"},{"type":"arrow","id":"1vgso8jmonwjrhptm9h0loe"},{"type":"arrow","id":"e7e7pn3ako1hgd3umgiaf"},{"type":"arrow","id":"b5ewe6igw1n8qwednq4cyb"},{"type":"arrow","id":"5szkqkwfps9cos5af6vdf"},{"type":"text","id":"p8is78blsg5030zpcdvd8"}],"version":2,"versionNonce":1973314930,"index":"ac","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"link":null,"locked":false},{"id":"p8is78blsg5030zpcdvd8","type":"text","x":4507.6,"y":7965,"width":184.8,"height":70,"angle":0,"strokeColor":"#E65100","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"Lambda\n表达式定义","text":"Lambda\n表达式定义","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"3wyzflkoji3cimo3wv6ph5","autoResize":true,"lineHeight":1.25,"lineCount":2,"version":2,"versionNonce":100295342,"index":"ad","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"e76slybik7bupq5e7157u","type":"arrow","x":4012.4000000000005,"y":8440,"width":455.1999999999998,"height":440,"angle":0,"strokeColor":"#F9A825","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.4,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[227.59999999999945,0],[227.59999999999945,-440],[455.1999999999998,-440]],"startBinding":{"elementId":"6ieza6dbw4gg9m3n5m3ldt","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"3wyzflkoji3cimo3wv6ph5","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":928311090,"index":"ae","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"g3lerq5i7rs4jg8tsxr4mw","type":"embeddable","x":5187.6,"y":3620,"width":600,"height":400,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"#F3E5F5","fillStyle":"cross-hatch","strokeWidth":1.8,"strokeStyle":"dashed","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"b7sufevm24c7tp2bdjyie4"},{"type":"text","id":"2jr2rlt6zj9qbt8cmzz2p9"}],"link":"demo.md","customData":{"jsonValue":{"type":"blockquote","content":[{"type":"paragraph","content":[{"type":"text","marks":[{"type":"code_inline"}],"text":"Lambda"},{"type":"text","text":" 表达式是一种"},{"type":"text","marks":[{"type":"strong"}],"text":"匿名函数（即没有函数名的函数）"},{"type":"text","text":", 其核心设计目的是在程序中快速定义简短的函数逻辑，无需显式声明函数名称"}]},{"type":"paragraph","content":[{"type":"text","text":"这一概念起源于数学中的 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"λ"},{"type":"text","text":" 演算（"},{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda calculus"},{"type":"text","text":"），后被引入多种编程语言（如"},{"type":"text","marks":[{"type":"code_inline"}],"text":"C++"},{"type":"text","text":"、"},{"type":"text","marks":[{"type":"code_inline"}],"text":"Python"},{"type":"text","text":"、"},{"type":"text","marks":[{"type":"code_inline"}],"text":"C#"},{"type":"text","text":"等），用于简化代码并提升灵活性"}]},{"type":"paragraph","content":[{"type":"text","text":"仓颉编程语言中也引入了 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"Lambda"},{"type":"text","text":" 表达式，具体使用介绍将在本小节展开介绍"}]},{"type":"paragraph","content":[{"type":"text","marks":[{"type":"code_inline"}],"text":"Lambda"},{"type":"text","text":" 表达式的语法为如下形式： "},{"type":"text","marks":[{"type":"code_inline"}],"text":"{ p1: T1, ..., pn: Tn => expressions | declarations }"}]},{"type":"paragraph","content":[{"type":"text","text":"其中:"}]},{"type":"paragraph","content":[{"type":"text","marks":[{"type":"code_inline"}],"text":"=>"},{"type":"text","text":" 之前为参数列表，多个参数之间使用 "},{"type":"text","marks":[{"type":"code_inline"}],"text":","},{"type":"text","text":" 分隔，每个参数名和参数类型之间使用 "},{"type":"text","marks":[{"type":"code_inline"}],"text":":"},{"type":"text","text":" 分隔"}]},{"type":"paragraph","content":[{"type":"text","marks":[{"type":"code_inline"}],"text":"=>"},{"type":"text","text":" 之前也可以没有参数"}]},{"type":"paragraph","content":[{"type":"text","marks":[{"type":"code_inline"}],"text":"=>"},{"type":"text","text":" 之后为 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"Lambda"},{"type":"text","text":" 表达式体，是一组表达式或声明序列"}]},{"type":"paragraph","content":[{"type":"text","marks":[{"type":"code_inline"}],"text":"Lambda"},{"type":"text","text":" 表达式的参数名的作用域与函数的相同，为 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"Lambda"},{"type":"text","text":" 表达式的函数体部分，其作用域级别可视为与 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"Lambda"},{"type":"text","text":" 表达式的函数体内定义的变量等同"}]},{"type":"code_fence","attrs":{"language":"cangjie"},"content":[{"type":"text","text":"let f1 = { a: Int64, b: Int64 => a + b }\n\nvar display = { =>                          // 无参数 lambda 表达式\n    println(\"Hello\")\n    println(\"World\")\n}"}]}]}},"version":2,"versionNonce":1110826222,"index":"af","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"2jr2rlt6zj9qbt8cmzz2p9","type":"text","x":5355.6,"y":3807.5,"width":264,"height":25,"angle":0,"strokeColor":"#4A148C","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[blockquote]","text":"[blockquote]","fontSize":20,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"g3lerq5i7rs4jg8tsxr4mw","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":173355250,"index":"ag","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"b7sufevm24c7tp2bdjyie4","type":"arrow","x":4732.400000000001,"y":8000,"width":455.1999999999998,"height":4180,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.2,"strokeStyle":"dashed","opacity":100,"roundness":null,"points":[[0,0],[227.59999999999945,0],[227.59999999999945,-4180],[455.1999999999998,-4180]],"startBinding":{"elementId":"3wyzflkoji3cimo3wv6ph5","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"g3lerq5i7rs4jg8tsxr4mw","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":1434980142,"index":"ah","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"lrkpjugakr0n6qtr1ejug","type":"embeddable","x":5187.6,"y":4060,"width":600,"height":400,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"#F3E5F5","fillStyle":"cross-hatch","strokeWidth":1.8,"strokeStyle":"dashed","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"52mxfyintpk2p8g89in23"},{"type":"text","id":"237r228uj0uab05cy3lcjl"}],"link":"demo.md","customData":{"jsonValue":{"type":"paragraph","content":[{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"},{"type":"text","text":"表达式是一种匿名函数语法, "},{"type":"text","marks":[{"type":"code_inline"}],"text":"C++"},{"type":"text","text":"中也存在"}]}},"version":2,"versionNonce":841368242,"index":"ai","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"237r228uj0uab05cy3lcjl","type":"text","x":5366.6,"y":4247.5,"width":242,"height":25,"angle":0,"strokeColor":"#4A148C","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[paragraph]","text":"[paragraph]","fontSize":20,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"lrkpjugakr0n6qtr1ejug","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":475658606,"index":"aj","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"52mxfyintpk2p8g89in23","type":"arrow","x":4732.400000000001,"y":8000,"width":455.1999999999998,"height":3740,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.2,"strokeStyle":"dashed","opacity":100,"roundness":null,"points":[[0,0],[227.59999999999945,0],[227.59999999999945,-3740],[455.1999999999998,-3740]],"startBinding":{"elementId":"3wyzflkoji3cimo3wv6ph5","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"lrkpjugakr0n6qtr1ejug","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":1768889458,"index":"ak","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"eyxhfxbno52jdj1tdl1ve","type":"embeddable","x":5187.6,"y":4500,"width":600,"height":400,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"#F3E5F5","fillStyle":"cross-hatch","strokeWidth":1.8,"strokeStyle":"dashed","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"jx76kq580bhvf09nfmzzi"},{"type":"text","id":"ppwfdkdsnz54xvu11ofmc"}],"link":"demo.md","customData":{"jsonValue":{"type":"paragraph","content":[{"type":"text","text":"仓颉的"},{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"},{"type":"text","text":"表达式语法为:"}]}},"version":2,"versionNonce":2113182638,"index":"al","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"ppwfdkdsnz54xvu11ofmc","type":"text","x":5366.6,"y":4687.5,"width":242,"height":25,"angle":0,"strokeColor":"#4A148C","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[paragraph]","text":"[paragraph]","fontSize":20,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"eyxhfxbno52jdj1tdl1ve","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":2113322546,"index":"am","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"jx76kq580bhvf09nfmzzi","type":"arrow","x":4732.400000000001,"y":8000,"width":455.1999999999998,"height":3300,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.2,"strokeStyle":"dashed","opacity":100,"roundness":null,"points":[[0,0],[227.59999999999945,0],[227.59999999999945,-3300],[455.1999999999998,-3300]],"startBinding":{"elementId":"3wyzflkoji3cimo3wv6ph5","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"eyxhfxbno52jdj1tdl1ve","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":276887022,"index":"an","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"627tqt0nheyu9sh2wwney","type":"embeddable","x":5187.6,"y":4940,"width":600,"height":400,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"#F3E5F5","fillStyle":"cross-hatch","strokeWidth":1.8,"strokeStyle":"dashed","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"anuku9scgpphou9nocjxeq"},{"type":"text","id":"f84ujbf87owxkqfwpgh26q"}],"link":"demo.md","customData":{"jsonValue":{"type":"code_fence","attrs":{"language":"cangjie"},"content":[{"type":"text","text":"{ 参数列表 => 一组声明或表达式序列 }"}]}},"version":2,"versionNonce":1822697458,"index":"ao","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"f84ujbf87owxkqfwpgh26q","type":"text","x":5355.6,"y":5127.5,"width":264,"height":25,"angle":0,"strokeColor":"#4A148C","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[code_fence]","text":"[code_fence]","fontSize":20,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"627tqt0nheyu9sh2wwney","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":1023936558,"index":"ap","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"anuku9scgpphou9nocjxeq","type":"arrow","x":4732.400000000001,"y":8000,"width":455.1999999999998,"height":2860,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.2,"strokeStyle":"dashed","opacity":100,"roundness":null,"points":[[0,0],[227.59999999999945,0],[227.59999999999945,-2860],[455.1999999999998,-2860]],"startBinding":{"elementId":"3wyzflkoji3cimo3wv6ph5","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"627tqt0nheyu9sh2wwney","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":2105432498,"index":"aq","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"8k588e25y3cczsvn89mte","type":"embeddable","x":5187.6,"y":5380,"width":600,"height":400,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"#F3E5F5","fillStyle":"cross-hatch","strokeWidth":1.8,"strokeStyle":"dashed","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"r6hzw2yyubjjfisp49pemg"},{"type":"text","id":"ld4q9b9ki8lnc20taef5jk"}],"link":"demo.md","customData":{"jsonValue":{"type":"paragraph","content":[{"type":"text","text":"要强调的是, "},{"type":"text","marks":[{"type":"strong"}],"text":"参数列表不能用"},{"type":"text","marks":[{"type":"code_inline"}],"text":"()"},{"type":"text","text":"包裹, 同时 一组声明或表达式序列 也不能被"},{"type":"text","marks":[{"type":"code_inline"}],"text":"{}"},{"type":"text","text":"包裹"}]}},"version":2,"versionNonce":1668469358,"index":"ar","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"ld4q9b9ki8lnc20taef5jk","type":"text","x":5366.6,"y":5567.5,"width":242,"height":25,"angle":0,"strokeColor":"#4A148C","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[paragraph]","text":"[paragraph]","fontSize":20,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"8k588e25y3cczsvn89mte","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":1605129074,"index":"as","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"r6hzw2yyubjjfisp49pemg","type":"arrow","x":4732.400000000001,"y":8000,"width":455.1999999999998,"height":2420,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.2,"strokeStyle":"dashed","opacity":100,"roundness":null,"points":[[0,0],[227.59999999999945,0],[227.59999999999945,-2420],[455.1999999999998,-2420]],"startBinding":{"elementId":"3wyzflkoji3cimo3wv6ph5","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"8k588e25y3cczsvn89mte","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":2122994862,"index":"at","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"j904ja75y8di41b01xuj9q","type":"embeddable","x":5187.6,"y":5820,"width":600,"height":400,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"#F3E5F5","fillStyle":"cross-hatch","strokeWidth":1.8,"strokeStyle":"dashed","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"79g7dl0el3h88fc5s6bo1d"},{"type":"text","id":"e68ci74ctzfd7ecuki3lnq"}],"link":"demo.md","customData":{"jsonValue":{"type":"paragraph","content":[{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"},{"type":"text","text":"参数列表, 就像函数的参数列表一样, 只不过不用"},{"type":"text","marks":[{"type":"code_inline"}],"text":"()"},{"type":"text","text":"包裹"}]}},"version":2,"versionNonce":1165301042,"index":"au","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"e68ci74ctzfd7ecuki3lnq","type":"text","x":5366.6,"y":6007.5,"width":242,"height":25,"angle":0,"strokeColor":"#4A148C","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[paragraph]","text":"[paragraph]","fontSize":20,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"j904ja75y8di41b01xuj9q","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":1207406318,"index":"av","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"79g7dl0el3h88fc5s6bo1d","type":"arrow","x":4732.400000000001,"y":8000,"width":455.1999999999998,"height":1980,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.2,"strokeStyle":"dashed","opacity":100,"roundness":null,"points":[[0,0],[227.59999999999945,0],[227.59999999999945,-1980],[455.1999999999998,-1980]],"startBinding":{"elementId":"3wyzflkoji3cimo3wv6ph5","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"j904ja75y8di41b01xuj9q","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":4169458,"index":"aw","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"fljaw77e3w9xfhgb9tie8","type":"embeddable","x":5187.6,"y":6260,"width":600,"height":400,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"#F3E5F5","fillStyle":"cross-hatch","strokeWidth":1.8,"strokeStyle":"dashed","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"07si87yp9dglbhrsfo7twf"},{"type":"text","id":"j2ptlj1rpeivhlijy142bn"}],"link":"demo.md","customData":{"jsonValue":{"type":"paragraph","content":[{"type":"text","text":"一组声明或表达式序列, 在"},{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"},{"type":"text","text":"表达式中 不用"},{"type":"text","marks":[{"type":"code_inline"}],"text":"{}"},{"type":"text","text":"包裹 也是被看作一个整体的, 所以可以随意按合法语法换行"}]}},"version":2,"versionNonce":1547927854,"index":"ax","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"j2ptlj1rpeivhlijy142bn","type":"text","x":5366.6,"y":6447.5,"width":242,"height":25,"angle":0,"strokeColor":"#4A148C","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[paragraph]","text":"[paragraph]","fontSize":20,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"fljaw77e3w9xfhgb9tie8","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":479391922,"index":"ay","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"07si87yp9dglbhrsfo7twf","type":"arrow","x":4732.400000000001,"y":8000,"width":455.1999999999998,"height":1540,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.2,"strokeStyle":"dashed","opacity":100,"roundness":null,"points":[[0,0],[227.59999999999945,0],[227.59999999999945,-1540],[455.1999999999998,-1540]],"startBinding":{"elementId":"3wyzflkoji3cimo3wv6ph5","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"fljaw77e3w9xfhgb9tie8","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":1591159662,"index":"az","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"zjs8fk3n8ssby6p0cystfr","type":"embeddable","x":5187.6,"y":6700,"width":600,"height":400,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"#F3E5F5","fillStyle":"cross-hatch","strokeWidth":1.8,"strokeStyle":"dashed","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"r9qe67jqrfb9o1fogxmwnr"},{"type":"text","id":"b186tgvvpbf7nomt6mdn46"}],"link":"demo.md","customData":{"jsonValue":{"type":"blockquote","content":[{"type":"paragraph","content":[{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"},{"type":"text","text":"表达式的参数, 也可以在"},{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"},{"type":"text","text":"表达式函数体内使用"}]},{"type":"paragraph","content":[{"type":"text","marks":[{"type":"code_inline"}],"text":"Lambda"},{"type":"text","text":" 表达式不管有没有参数，"},{"type":"text","marks":[{"type":"strong"}],"text":"都不可以省略 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"=>"},{"type":"text","text":"，除非其作为尾随 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"}]},{"type":"paragraph","content":[{"type":"text","text":"例如："}]},{"type":"code_fence","attrs":{"language":"cangjie"},"content":[{"type":"text","text":"var display = { => println(\"Hello\") }\n\nfunc f2(lam: () -> Unit) {}\nlet f2Res = f2 { println(\"World\") }             // OK, 省略 =>"}]}]}},"version":2,"versionNonce":2115373682,"index":"b00","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"b186tgvvpbf7nomt6mdn46","type":"text","x":5355.6,"y":6887.5,"width":264,"height":25,"angle":0,"strokeColor":"#4A148C","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[blockquote]","text":"[blockquote]","fontSize":20,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"zjs8fk3n8ssby6p0cystfr","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":503025070,"index":"b01","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"r9qe67jqrfb9o1fogxmwnr","type":"arrow","x":4732.400000000001,"y":8000,"width":455.1999999999998,"height":1100,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.2,"strokeStyle":"dashed","opacity":100,"roundness":null,"points":[[0,0],[227.59999999999945,0],[227.59999999999945,-1100],[455.1999999999998,-1100]],"startBinding":{"elementId":"3wyzflkoji3cimo3wv6ph5","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"zjs8fk3n8ssby6p0cystfr","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":2073029682,"index":"b02","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"ii811iz5mf4jc8c7jozmd","type":"embeddable","x":5187.6,"y":7140,"width":600,"height":400,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"#F3E5F5","fillStyle":"cross-hatch","strokeWidth":1.8,"strokeStyle":"dashed","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"xcqgebtvk6fzicfbbte9uq"},{"type":"text","id":"cdxktuql3b8jhkihsh075r"}],"link":"demo.md","customData":{"jsonValue":{"type":"paragraph","content":[{"type":"text","text":"仓颉"},{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"},{"type":"text","text":"表达式的"},{"type":"text","marks":[{"type":"code_inline"}],"text":"=>"},{"type":"text","text":"不允许被省略, 除非是尾随"},{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"}]}},"version":2,"versionNonce":920233966,"index":"b03","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"cdxktuql3b8jhkihsh075r","type":"text","x":5366.6,"y":7327.5,"width":242,"height":25,"angle":0,"strokeColor":"#4A148C","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[paragraph]","text":"[paragraph]","fontSize":20,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"ii811iz5mf4jc8c7jozmd","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":2061997554,"index":"b04","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"xcqgebtvk6fzicfbbte9uq","type":"arrow","x":4732.400000000001,"y":8000,"width":455.1999999999998,"height":660,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.2,"strokeStyle":"dashed","opacity":100,"roundness":null,"points":[[0,0],[227.59999999999945,0],[227.59999999999945,-660],[455.1999999999998,-660]],"startBinding":{"elementId":"3wyzflkoji3cimo3wv6ph5","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"ii811iz5mf4jc8c7jozmd","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":964327982,"index":"b05","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"a7win6vrrf9xn3mdd6uzys","type":"embeddable","x":5187.6,"y":7580,"width":600,"height":400,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"#F3E5F5","fillStyle":"cross-hatch","strokeWidth":1.8,"strokeStyle":"dashed","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"gl72fucqls8b8six5fy98o"},{"type":"text","id":"tffzb8gkurp589alqcu8x3"}],"link":"demo.md","customData":{"jsonValue":{"type":"paragraph","content":[{"type":"text","text":"不过, 也只有在"},{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"},{"type":"text","text":"参数为空时, 尾随"},{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"},{"type":"text","text":"的"},{"type":"text","marks":[{"type":"code_inline"}],"text":"=>"},{"type":"text","text":"可以省略"}]}},"version":2,"versionNonce":220465074,"index":"b06","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"tffzb8gkurp589alqcu8x3","type":"text","x":5366.6,"y":7767.5,"width":242,"height":25,"angle":0,"strokeColor":"#4A148C","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[paragraph]","text":"[paragraph]","fontSize":20,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"a7win6vrrf9xn3mdd6uzys","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":1288111214,"index":"b07","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"gl72fucqls8b8six5fy98o","type":"arrow","x":4732.400000000001,"y":8000,"width":455.1999999999998,"height":220,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.2,"strokeStyle":"dashed","opacity":100,"roundness":null,"points":[[0,0],[227.59999999999945,0],[227.59999999999945,-220],[455.1999999999998,-220]],"startBinding":{"elementId":"3wyzflkoji3cimo3wv6ph5","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"a7win6vrrf9xn3mdd6uzys","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":174866802,"index":"b08","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"ilm6y23g4rmdt7cb56y7l","type":"embeddable","x":5187.6,"y":8020,"width":600,"height":400,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"#F3E5F5","fillStyle":"cross-hatch","strokeWidth":1.8,"strokeStyle":"dashed","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"iqcwj0f9thh4c7o4uaevxs"},{"type":"text","id":"34zhxxjhzanf8nn7eyn7dj"}],"link":"demo.md","customData":{"jsonValue":{"type":"blockquote","content":[{"type":"paragraph","content":[{"type":"text","text":"[!TIP]"}]},{"type":"paragraph","content":[{"type":"text","marks":[{"type":"strong"}],"text":"尾随"},{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"}]},{"type":"paragraph","content":[{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"},{"type":"text","text":"表达式作为函数的最后一个参数, 可以以**尾随"},{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"},{"type":"text","text":"**形式传参"}]},{"type":"paragraph","content":[{"type":"text","text":"即, 当函数的最后一个形参是函数类型时, 调用时最后一个参数要传入"},{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"},{"type":"text","text":"表达式时, 可以使用尾随"},{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"},{"type":"text","text":"的形式"}]},{"type":"paragraph","content":[{"type":"text","text":"尾随"},{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"},{"type":"text","text":"形式, 不是将"},{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"},{"type":"text","text":"表达式传入函数的参数列表中, 而是在函数调用时将"},{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"},{"type":"text","text":"表达式声明在函数调用之后:"}]},{"type":"paragraph","content":[{"type":"text","text":"举个例子:"}]},{"type":"code_fence","attrs":{"language":"cangjie"},"content":[{"type":"text","text":"func function(param: Int64, lam: (Int64, String) -> Unit) {\n    lam(param, \"Cangjie\")\n}\n\nmain() {\n    // 正常传参\n    function(10, {\n        param1: Int64, param2: String => println(\"result: ${param1 * param2.size}\")\n    })\n\n    // 尾随lambda\n    function(10) {\n        param1: Int64, param2: String => println(\"result: ${param1 * param2.size}\")\n    }\n}"}]},{"type":"paragraph","content":[{"type":"text","text":"这两种调用方式都是可以的, 一个"},{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"},{"type":"text","text":"表达式正常作为实参传入, 一个以尾随"},{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"},{"type":"text","text":"的形式传入"}]}]}},"version":2,"versionNonce":1384662702,"index":"b09","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"34zhxxjhzanf8nn7eyn7dj","type":"text","x":5355.6,"y":8207.5,"width":264,"height":25,"angle":0,"strokeColor":"#4A148C","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[blockquote]","text":"[blockquote]","fontSize":20,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"ilm6y23g4rmdt7cb56y7l","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":772227890,"index":"b0A","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"iqcwj0f9thh4c7o4uaevxs","type":"arrow","x":4732.400000000001,"y":8000,"width":455.1999999999998,"height":220,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.2,"strokeStyle":"dashed","opacity":100,"roundness":null,"points":[[0,0],[227.59999999999945,0],[227.59999999999945,220],[455.1999999999998,220]],"startBinding":{"elementId":"3wyzflkoji3cimo3wv6ph5","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"ilm6y23g4rmdt7cb56y7l","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":191316206,"index":"b0B","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"d423z5yinx4u3zdmp6u2u","type":"embeddable","x":5187.6,"y":8460,"width":600,"height":400,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"#F3E5F5","fillStyle":"cross-hatch","strokeWidth":1.8,"strokeStyle":"dashed","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"5z1csoh8w6itejxf3xxkr"},{"type":"text","id":"dmo795nct862pak2vy1e0v"}],"link":"demo.md","customData":{"jsonValue":{"type":"blockquote","content":[{"type":"paragraph","content":[{"type":"text","marks":[{"type":"code_inline"}],"text":"Lambda"},{"type":"text","text":" 表达式中参数的类型标注可缺省"}]},{"type":"paragraph","content":[{"type":"text","marks":[{"type":"strong"}],"text":"以下情形"},{"type":"text","text":"中, 若参数类型省略，编译器会尝试进行类型推断，当编译器无法推断出类型时会编译报错："}]},{"type":"bullet_list","content":[{"type":"list_item","content":[{"type":"paragraph","content":[{"type":"text","marks":[{"type":"code_inline"}],"text":"Lambda"},{"type":"text","text":" 表达式 赋值给变量 时，其参数类型根据变量类型推断"}]}]},{"type":"list_item","content":[{"type":"paragraph","content":[{"type":"text","marks":[{"type":"code_inline"}],"text":"Lambda"},{"type":"text","text":" 表达式 作为 函数调用表达式的实参 使用时，其参数类型根据函数的形参类型推断"}]}]}]},{"type":"code_fence","attrs":{"language":"cangjie"},"content":[{"type":"text","text":"// 参数类型由变量 sum1 的类型推断得出\nvar sum1: (Int64, Int64) -> Int64 = { a, b => a + b }\n\nvar sum2: (Int64, Int64) -> Int64 = { a: Int64, b => a + b }\n\nfunc f(a1: (Int64) -> Int64): Int64 {\n    a1(1)\n}\n\nmain(): Int64 {\n    // lambda 的参数类型是从函数 f 的类型推断出来的\n    f({ a2 => a2 + 10 })\n}"}]}]}},"version":2,"versionNonce":844893426,"index":"b0C","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"dmo795nct862pak2vy1e0v","type":"text","x":5355.6,"y":8647.5,"width":264,"height":25,"angle":0,"strokeColor":"#4A148C","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[blockquote]","text":"[blockquote]","fontSize":20,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"d423z5yinx4u3zdmp6u2u","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":988607278,"index":"b0D","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"5z1csoh8w6itejxf3xxkr","type":"arrow","x":4732.400000000001,"y":8000,"width":455.1999999999998,"height":660,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.2,"strokeStyle":"dashed","opacity":100,"roundness":null,"points":[[0,0],[227.59999999999945,0],[227.59999999999945,660],[455.1999999999998,660]],"startBinding":{"elementId":"3wyzflkoji3cimo3wv6ph5","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"d423z5yinx4u3zdmp6u2u","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":1827774130,"index":"b0E","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"1pgdrawgmytpijwisq8ie","type":"embeddable","x":5187.6,"y":8900,"width":600,"height":400,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"#F3E5F5","fillStyle":"cross-hatch","strokeWidth":1.8,"strokeStyle":"dashed","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"4xj8vh2n0y9ibhvn8x9mt8"},{"type":"text","id":"e1ob4pfc2pol0dxvw1uu"}],"link":"demo.md","customData":{"jsonValue":{"type":"paragraph","content":[{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"},{"type":"text","text":"表达式的参数的类型是可以省略的"}]}},"version":2,"versionNonce":1266834798,"index":"b0F","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"e1ob4pfc2pol0dxvw1uu","type":"text","x":5366.6,"y":9087.5,"width":242,"height":25,"angle":0,"strokeColor":"#4A148C","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[paragraph]","text":"[paragraph]","fontSize":20,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"1pgdrawgmytpijwisq8ie","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":1785657458,"index":"b0G","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"4xj8vh2n0y9ibhvn8x9mt8","type":"arrow","x":4732.400000000001,"y":8000,"width":455.1999999999998,"height":1100,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.2,"strokeStyle":"dashed","opacity":100,"roundness":null,"points":[[0,0],[227.59999999999945,0],[227.59999999999945,1100],[455.1999999999998,1100]],"startBinding":{"elementId":"3wyzflkoji3cimo3wv6ph5","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"1pgdrawgmytpijwisq8ie","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":1919975342,"index":"b0H","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"7cxt6ogqb9arsrqcewfehs","type":"embeddable","x":5187.6,"y":9340,"width":600,"height":400,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"#F3E5F5","fillStyle":"cross-hatch","strokeWidth":1.8,"strokeStyle":"dashed","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"rsq4ymcp8p7kzc3uymrky"},{"type":"text","id":"i30ypnxzhflj5mu90hi6j"}],"link":"demo.md","customData":{"jsonValue":{"type":"paragraph","content":[{"type":"text","text":"但, 编译器要能根据上下文推断出来, 否则报错"}]}},"version":2,"versionNonce":177936946,"index":"b0I","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"i30ypnxzhflj5mu90hi6j","type":"text","x":5366.6,"y":9527.5,"width":242,"height":25,"angle":0,"strokeColor":"#4A148C","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[paragraph]","text":"[paragraph]","fontSize":20,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"7cxt6ogqb9arsrqcewfehs","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":1407212014,"index":"b0J","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"rsq4ymcp8p7kzc3uymrky","type":"arrow","x":4732.400000000001,"y":8000,"width":455.1999999999998,"height":1540,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.2,"strokeStyle":"dashed","opacity":100,"roundness":null,"points":[[0,0],[227.59999999999945,0],[227.59999999999945,1540],[455.1999999999998,1540]],"startBinding":{"elementId":"3wyzflkoji3cimo3wv6ph5","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"7cxt6ogqb9arsrqcewfehs","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":475857906,"index":"b0K","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"d5el4iq7rbvdtulbul9ofk","type":"embeddable","x":5187.6,"y":9780,"width":600,"height":400,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"#F3E5F5","fillStyle":"cross-hatch","strokeWidth":1.8,"strokeStyle":"dashed","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"wm32fk1q95rpgyhd4ng79k"},{"type":"text","id":"mee5nisqkwacib8wu4zj"}],"link":"demo.md","customData":{"jsonValue":{"type":"paragraph","content":[{"type":"text","text":"比如, 给变量赋值时, 根据变量声明类型进行推断; 作为实参传入参数形参时, 根据形参类型进行推断"}]}},"version":2,"versionNonce":651881518,"index":"b0L","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"mee5nisqkwacib8wu4zj","type":"text","x":5366.6,"y":9967.5,"width":242,"height":25,"angle":0,"strokeColor":"#4A148C","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[paragraph]","text":"[paragraph]","fontSize":20,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"d5el4iq7rbvdtulbul9ofk","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":2042344882,"index":"b0M","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"wm32fk1q95rpgyhd4ng79k","type":"arrow","x":4732.400000000001,"y":8000,"width":455.1999999999998,"height":1980,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.2,"strokeStyle":"dashed","opacity":100,"roundness":null,"points":[[0,0],[227.59999999999945,0],[227.59999999999945,1980],[455.1999999999998,1980]],"startBinding":{"elementId":"3wyzflkoji3cimo3wv6ph5","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"d5el4iq7rbvdtulbul9ofk","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":1497970286,"index":"b0N","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"y4w78gy7ecd09qpf9l3vj","type":"embeddable","x":5187.6,"y":10220,"width":600,"height":400,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"#F3E5F5","fillStyle":"cross-hatch","strokeWidth":1.8,"strokeStyle":"dashed","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"913ojam97cjn3gyi8vnk2b"},{"type":"text","id":"nkuuelgf2fgwdaz2jrfof"}],"link":"demo.md","customData":{"jsonValue":{"type":"blockquote","content":[{"type":"paragraph","content":[{"type":"text","marks":[{"type":"code_inline"}],"text":"Lambda"},{"type":"text","text":" 表达式中"},{"type":"text","marks":[{"type":"strong"}],"text":"不支持声明返回类型"},{"type":"text","text":"，其返回类型总是从上下文中推断出来，若无法推断则报错"}]},{"type":"bullet_list","content":[{"type":"list_item","content":[{"type":"paragraph","content":[{"type":"text","text":"若上下文"},{"type":"text","marks":[{"type":"strong"}],"text":"明确指定了 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"Lambda"},{"type":"text","text":" 表达式的返回类型，则其返回类型为上下文指定的类型"}]},{"type":"bullet_list","content":[{"type":"list_item","content":[{"type":"paragraph","content":[{"type":"text","marks":[{"type":"code_inline"}],"text":"Lambda"},{"type":"text","text":" 表达式"},{"type":"text","marks":[{"type":"strong"}],"text":"赋值给变量"},{"type":"text","text":"时，其返回类型根据 变量类型 推断返回类型："}]},{"type":"code_fence","attrs":{"language":"cangjie"},"content":[{"type":"text","text":"let f: () -> Unit = { ... }"}]}]},{"type":"list_item","content":[{"type":"paragraph","content":[{"type":"text","marks":[{"type":"code_inline"}],"text":"Lambda"},{"type":"text","text":" 表达式"},{"type":"text","marks":[{"type":"strong"}],"text":"作为参数使用"},{"type":"text","text":"时，其返回类型根据 使用处所在的函数调用的形参类型 推断："}]},{"type":"code_fence","attrs":{"language":"cangjie"},"content":[{"type":"text","text":"func f(a1: (Int64) -> Int64): Int64 {\n    a1(1)\n}\n\nmain(): Int64 {\n    f({ a2: Int64 => a2 + 10 })\n}"}]}]},{"type":"list_item","content":[{"type":"paragraph","content":[{"type":"text","marks":[{"type":"code_inline"}],"text":"Lambda"},{"type":"text","text":" 表达式"},{"type":"text","marks":[{"type":"strong"}],"text":"作为返回值"},{"type":"text","text":"使用时，其返回类型根据 使用处所在函数的返回类型 推断："}]},{"type":"code_fence","attrs":{"language":"cangjie"},"content":[{"type":"text","text":"func f(): (Int64) -> Int64 {\n    { a: Int64 => a }\n}"}]}]}]}]},{"type":"list_item","content":[{"type":"paragraph","content":[{"type":"text","text":"若上下文中类型未明确，与推导函数的返回值类型类似，编译器会根据 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"Lambda"},{"type":"text","text":" 表达式体中所有 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"return"},{"type":"text","text":" 表达式 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"return xxx"},{"type":"text","text":" 中 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"xxx"},{"type":"text","text":" 的类型，以及 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"Lambda"},{"type":"text","text":" 表达式体的类型，来共同推导出 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"Lambda"},{"type":"text","text":" 表达式的返回类型"}]},{"type":"bullet_list","content":[{"type":"list_item","content":[{"type":"paragraph","content":[{"type":"text","marks":[{"type":"code_inline"}],"text":"=>"},{"type":"text","text":" 右侧的内容与普通函数体的规则一样，返回类型为 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"Int64"},{"type":"text","text":":"}]},{"type":"code_fence","attrs":{"language":"cangjie"},"content":[{"type":"text","text":"let sum1 = { a: Int64, b: Int64 => a + b }"}]}]},{"type":"list_item","content":[{"type":"paragraph","content":[{"type":"text","marks":[{"type":"code_inline"}],"text":"=>"},{"type":"text","text":" 的右侧为空，返回类型为 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"Unit"},{"type":"text","text":":"}]},{"type":"code_fence","attrs":{"language":"cangjie"},"content":[{"type":"text","text":"let f = { => }"}]}]}]}]}]}]}},"version":2,"versionNonce":601763698,"index":"b0O","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"nkuuelgf2fgwdaz2jrfof","type":"text","x":5355.6,"y":10407.5,"width":264,"height":25,"angle":0,"strokeColor":"#4A148C","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[blockquote]","text":"[blockquote]","fontSize":20,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"y4w78gy7ecd09qpf9l3vj","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":871643310,"index":"b0P","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"913ojam97cjn3gyi8vnk2b","type":"arrow","x":4732.400000000001,"y":8000,"width":455.1999999999998,"height":2420,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.2,"strokeStyle":"dashed","opacity":100,"roundness":null,"points":[[0,0],[227.59999999999945,0],[227.59999999999945,2420],[455.1999999999998,2420]],"startBinding":{"elementId":"3wyzflkoji3cimo3wv6ph5","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"y4w78gy7ecd09qpf9l3vj","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":1594585394,"index":"b0Q","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"2tyqtzk7lxi2jn6vvm4ybq","type":"embeddable","x":5187.6,"y":10660,"width":600,"height":400,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"#F3E5F5","fillStyle":"cross-hatch","strokeWidth":1.8,"strokeStyle":"dashed","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"1vgso8jmonwjrhptm9h0loe"},{"type":"text","id":"4gxg96l3g72bvai1yn1d3g"}],"link":"demo.md","customData":{"jsonValue":{"type":"paragraph","content":[{"type":"text","text":"仓颉"},{"type":"text","marks":[{"type":"code_inline"}],"text":"ladmbda"},{"type":"text","text":"的参数类型 是可缺省的"}]}},"version":2,"versionNonce":2122642158,"index":"b0R","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"4gxg96l3g72bvai1yn1d3g","type":"text","x":5366.6,"y":10847.5,"width":242,"height":25,"angle":0,"strokeColor":"#4A148C","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[paragraph]","text":"[paragraph]","fontSize":20,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"2tyqtzk7lxi2jn6vvm4ybq","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":1319795442,"index":"b0S","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"1vgso8jmonwjrhptm9h0loe","type":"arrow","x":4732.400000000001,"y":8000,"width":455.1999999999998,"height":2860,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.2,"strokeStyle":"dashed","opacity":100,"roundness":null,"points":[[0,0],[227.59999999999945,0],[227.59999999999945,2860],[455.1999999999998,2860]],"startBinding":{"elementId":"3wyzflkoji3cimo3wv6ph5","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"2tyqtzk7lxi2jn6vvm4ybq","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":595879214,"index":"b0T","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"j5bknlj8pac1xwz1x1690p","type":"embeddable","x":5187.6,"y":11100,"width":600,"height":400,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"#F3E5F5","fillStyle":"cross-hatch","strokeWidth":1.8,"strokeStyle":"dashed","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"e7e7pn3ako1hgd3umgiaf"},{"type":"text","id":"5byyjotlvw3phu3pxcsbn"}],"link":"demo.md","customData":{"jsonValue":{"type":"paragraph","content":[{"type":"text","text":"但 "},{"type":"text","marks":[{"type":"strong"}],"text":"返回类型是不可指定的"},{"type":"text","text":", 只能根据上下文进行推导:"}]}},"version":2,"versionNonce":289557682,"index":"b0U","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"5byyjotlvw3phu3pxcsbn","type":"text","x":5366.6,"y":11287.5,"width":242,"height":25,"angle":0,"strokeColor":"#4A148C","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[paragraph]","text":"[paragraph]","fontSize":20,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"j5bknlj8pac1xwz1x1690p","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":1415286638,"index":"b0V","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"e7e7pn3ako1hgd3umgiaf","type":"arrow","x":4732.400000000001,"y":8000,"width":455.1999999999998,"height":3300,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.2,"strokeStyle":"dashed","opacity":100,"roundness":null,"points":[[0,0],[227.59999999999945,0],[227.59999999999945,3300],[455.1999999999998,3300]],"startBinding":{"elementId":"3wyzflkoji3cimo3wv6ph5","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"j5bknlj8pac1xwz1x1690p","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":1551492722,"index":"b0W","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"kepi55j2jyr7yoidy8d8","type":"embeddable","x":5187.6,"y":11540,"width":600,"height":400,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"#F3E5F5","fillStyle":"cross-hatch","strokeWidth":1.8,"strokeStyle":"dashed","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"b5ewe6igw1n8qwednq4cyb"},{"type":"text","id":"gcc0eun8s7m36h4uyy0gq3"}],"link":"demo.md","customData":{"jsonValue":{"type":"ordered_list","attrs":{"order":1},"content":[{"type":"list_item","content":[{"type":"paragraph","content":[{"type":"text","text":"若 使用处的上下文 有指定返回值类型, 那么 就根据指定的类型进行推导"}]}]},{"type":"list_item","content":[{"type":"paragraph","content":[{"type":"text","text":"若 使用处的上下文 没有指定返回值类型, 那么 就根据"},{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"},{"type":"text","text":"表达式体中 "},{"type":"text","marks":[{"type":"strong"}],"text":"所有"},{"type":"text","marks":[{"type":"code_inline"}],"text":"return expr"},{"type":"text","text":"表达式中的"},{"type":"text","marks":[{"type":"code_inline"}],"text":"expr"},{"type":"text","text":"类型 以及 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"},{"type":"text","text":"表达式体的类型 共同进行推导"}]}]}]}},"version":2,"versionNonce":760443310,"index":"b0X","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"gcc0eun8s7m36h4uyy0gq3","type":"text","x":5388.6,"y":11715,"width":198,"height":50,"angle":0,"strokeColor":"#4A148C","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[ordered_list]","text":"[ordered_\nlist]","fontSize":20,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"kepi55j2jyr7yoidy8d8","autoResize":true,"lineHeight":1.25,"lineCount":2,"version":2,"versionNonce":421021746,"index":"b0Y","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"b5ewe6igw1n8qwednq4cyb","type":"arrow","x":4732.400000000001,"y":8000,"width":455.1999999999998,"height":3740,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.2,"strokeStyle":"dashed","opacity":100,"roundness":null,"points":[[0,0],[227.59999999999945,0],[227.59999999999945,3740],[455.1999999999998,3740]],"startBinding":{"elementId":"3wyzflkoji3cimo3wv6ph5","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"kepi55j2jyr7yoidy8d8","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":1502940142,"index":"b0Z","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"d6xag1vi1jnn8lu83j9ap","type":"embeddable","x":5187.6,"y":11980,"width":600,"height":400,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"#F3E5F5","fillStyle":"cross-hatch","strokeWidth":1.8,"strokeStyle":"dashed","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"5szkqkwfps9cos5af6vdf"},{"type":"text","id":"z0fn0ttq0ckufo33wl1d"}],"link":"demo.md","customData":{"jsonValue":{"type":"paragraph","content":[{"type":"text","text":"这部分在具体使用时应该可以有更熟悉、深入的了解"}]}},"version":2,"versionNonce":2130997746,"index":"b0a","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"z0fn0ttq0ckufo33wl1d","type":"text","x":5366.6,"y":12167.5,"width":242,"height":25,"angle":0,"strokeColor":"#4A148C","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[paragraph]","text":"[paragraph]","fontSize":20,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"d6xag1vi1jnn8lu83j9ap","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":925457966,"index":"b0b","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"5szkqkwfps9cos5af6vdf","type":"arrow","x":4732.400000000001,"y":8000,"width":455.1999999999998,"height":4180,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.2,"strokeStyle":"dashed","opacity":100,"roundness":null,"points":[[0,0],[227.59999999999945,0],[227.59999999999945,4180],[455.1999999999998,4180]],"startBinding":{"elementId":"3wyzflkoji3cimo3wv6ph5","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"d6xag1vi1jnn8lu83j9ap","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":826631090,"index":"b0c","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"ar56qaqh2fvb7u8yoz2kp","type":"rectangle","x":4467.6,"y":12785,"width":264.8,"height":110,"angle":0,"strokeColor":"#F9A825","backgroundColor":"#FFF8E1","fillStyle":"solid","strokeWidth":2.1,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"4yuc1jgvauogq7e1ih3vy7"},{"type":"arrow","id":"ieth89zuei9m1mzadm9t"},{"type":"arrow","id":"22em1ga6fzei1j24z4tlph"},{"type":"text","id":"i3pnn35xdfqpimnlkb0lr"}],"version":2,"versionNonce":2063165550,"index":"b0d","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"link":null,"locked":false},{"id":"i3pnn35xdfqpimnlkb0lr","type":"text","x":4507.6,"y":12805,"width":184.8,"height":70,"angle":0,"strokeColor":"#E65100","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"Lambda\n 表达式调用","text":"Lambda\n 表达式调用","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"ar56qaqh2fvb7u8yoz2kp","autoResize":true,"lineHeight":1.25,"lineCount":2,"version":2,"versionNonce":1510088050,"index":"b0e","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"4yuc1jgvauogq7e1ih3vy7","type":"arrow","x":4012.4000000000005,"y":8440,"width":455.1999999999998,"height":4400,"angle":0,"strokeColor":"#F9A825","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.4,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[227.59999999999945,0],[227.59999999999945,4400],[455.1999999999998,4400]],"startBinding":{"elementId":"6ieza6dbw4gg9m3n5m3ldt","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"ar56qaqh2fvb7u8yoz2kp","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":1422797486,"index":"b0f","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"kt02sjaihgde9qrgc0611n","type":"embeddable","x":5187.6,"y":12420,"width":600,"height":400,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"#F3E5F5","fillStyle":"cross-hatch","strokeWidth":1.8,"strokeStyle":"dashed","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"ieth89zuei9m1mzadm9t"},{"type":"text","id":"csxc3137ri09ugn444nb0e"}],"link":"demo.md","customData":{"jsonValue":{"type":"blockquote","content":[{"type":"paragraph","content":[{"type":"text","marks":[{"type":"code_inline"}],"text":"Lambda"},{"type":"text","text":" 表达式支持立即调用，例如："}]},{"type":"code_fence","attrs":{"language":"cangjie"},"content":[{"type":"text","text":"let r1 = { a: Int64, b: Int64 => a + b }(1, 2)      // r1 = 3\nlet r2 = { => 123 }()                               // r2 = 123"}]},{"type":"paragraph","content":[{"type":"text","marks":[{"type":"code_inline"}],"text":"Lambda"},{"type":"text","text":" 表达式也可以赋值给一个变量，使用变量名进行调用，例如："}]},{"type":"code_fence","attrs":{"language":"cangjie"},"content":[{"type":"text","text":"func f() {\n    var g = { x: Int64 => println(\"x = ${x}\") }\n    g(2)\n}"}]}]}},"version":2,"versionNonce":1182900018,"index":"b0g","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"csxc3137ri09ugn444nb0e","type":"text","x":5355.6,"y":12607.5,"width":264,"height":25,"angle":0,"strokeColor":"#4A148C","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[blockquote]","text":"[blockquote]","fontSize":20,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"kt02sjaihgde9qrgc0611n","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":324052206,"index":"b0h","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"ieth89zuei9m1mzadm9t","type":"arrow","x":4732.400000000001,"y":12840,"width":455.1999999999998,"height":220,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.2,"strokeStyle":"dashed","opacity":100,"roundness":null,"points":[[0,0],[227.59999999999945,0],[227.59999999999945,-220],[455.1999999999998,-220]],"startBinding":{"elementId":"ar56qaqh2fvb7u8yoz2kp","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"kt02sjaihgde9qrgc0611n","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":53143794,"index":"b0i","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"b37o8x4n8mdhnhy0oteko","type":"embeddable","x":5187.6,"y":12860,"width":600,"height":400,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"#F3E5F5","fillStyle":"cross-hatch","strokeWidth":1.8,"strokeStyle":"dashed","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"22em1ga6fzei1j24z4tlph"},{"type":"text","id":"ee7ejivi5f1x4to7twj6oh"}],"link":"demo.md","customData":{"jsonValue":{"type":"paragraph","content":[{"type":"text","text":"其实调用在上面了解定义时, 就已经见过了"}]}},"version":2,"versionNonce":1208604462,"index":"b0j","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"ee7ejivi5f1x4to7twj6oh","type":"text","x":5366.6,"y":13047.5,"width":242,"height":25,"angle":0,"strokeColor":"#4A148C","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[paragraph]","text":"[paragraph]","fontSize":20,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"b37o8x4n8mdhnhy0oteko","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":2005203634,"index":"b0k","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"22em1ga6fzei1j24z4tlph","type":"arrow","x":4732.400000000001,"y":12840,"width":455.1999999999998,"height":220,"angle":0,"strokeColor":"#6A1B9A","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.2,"strokeStyle":"dashed","opacity":100,"roundness":null,"points":[[0,0],[227.59999999999945,0],[227.59999999999945,220],[455.1999999999998,220]],"startBinding":{"elementId":"ar56qaqh2fvb7u8yoz2kp","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"b37o8x4n8mdhnhy0oteko","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":1801634158,"index":"b0l","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"57e71xye2enxq883w1rx","type":"rectangle","x":3747.6000000000004,"y":18302.5,"width":234.00000000000003,"height":75,"angle":0,"strokeColor":"#2E7D32","backgroundColor":"#E8F5E9","fillStyle":"solid","strokeWidth":2.4,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"k4is3nw9bvn5rjojujk41a"},{"type":"arrow","id":"kl99z2bn5cda1gxhvoivx5"},{"type":"arrow","id":"5tqzrs6z5oo4qpg2yhgl74"},{"type":"arrow","id":"7jt7lers8odpfpg2tgf1z"},{"type":"arrow","id":"futjn5wmmfn94jv55uz1at"},{"type":"arrow","id":"nk4r02qbm46z2f0r0fuba"},{"type":"arrow","id":"u7lhwcij8df5bapv5wbr"},{"type":"arrow","id":"essjtqo3edjcd97pavtatf"},{"type":"arrow","id":"dso77bk7dco74z52y03o06"},{"type":"arrow","id":"k1o7qof5mlyps20gcszf"},{"type":"arrow","id":"cuzhhwloj5ttznlwx8udge"},{"type":"arrow","id":"6k1h95hyg3gnkutluurvo"},{"type":"arrow","id":"rhobp1m66tf86jsp20a0t6"},{"type":"arrow","id":"ced52uxr5fnovfdlklioq"},{"type":"arrow","id":"a7jz9apn9hfdublowd0shg"},{"type":"arrow","id":"e9oxpr8r40tx55pnl53wy"},{"type":"arrow","id":"uxuiq8tym0khpsx3tt1xe"},{"type":"arrow","id":"mdb93ftp48oz4a1nnt6kzk"},{"type":"arrow","id":"rshvvijj16tp38gt3lee"},{"type":"arrow","id":"6obphnqc6hpo5iilwvax"},{"type":"arrow","id":"djc65x00ir5w9q7fatays"},{"type":"arrow","id":"ft5yunbtsvojutb6l9lqmd"},{"type":"arrow","id":"nu8b9gvjb7rg60xc7i3qn"},{"type":"arrow","id":"qwrh3x1437dc8br9o0yic"},{"type":"text","id":"sh717maljkmgzvblukta05"}],"version":2,"versionNonce":37147762,"index":"b0m","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"link":null,"locked":false},{"id":"sh717maljkmgzvblukta05","type":"text","x":3787.6000000000004,"y":18322.5,"width":154.00000000000003,"height":35,"angle":0,"strokeColor":"#1B5E20","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"闭包 **","text":"闭包 **","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"57e71xye2enxq883w1rx","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":10773422,"index":"b0n","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"k4is3nw9bvn5rjojujk41a","type":"arrow","x":657.5999999999999,"y":12620,"width":3090.0000000000005,"height":5720,"angle":0,"strokeColor":"#2E7D32","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.6,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[1545.0000000000005,0],[1545.0000000000005,5720],[3090.0000000000005,5720]],"startBinding":{"elementId":"hl96dqo36wwqazx96k98","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"57e71xye2enxq883w1rx","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":352810546,"index":"b0o","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"l592drfs398bq2lqoe6uv","type":"embeddable","x":4467.6,"y":13300,"width":600,"height":400,"angle":0,"strokeColor":"#F9A825","backgroundColor":"#FFF8E1","fillStyle":"solid","strokeWidth":2.1,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"kl99z2bn5cda1gxhvoivx5"},{"type":"text","id":"ongp43w7nzdgi120lr6a5q"}],"link":"demo.md","customData":{"jsonValue":{"type":"blockquote","content":[{"type":"paragraph","content":[{"type":"text","marks":[{"type":"strong"}],"text":"一个函数或"},{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"},{"type":"text","text":"从定义它的静态作用域中捕获了变量，函数或 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"},{"type":"text","text":" 和捕获的变量一起被称为一个闭包，这样即使脱离了闭包定义所在的作用域，闭包也能正常运行"}]}]}},"version":2,"versionNonce":972537326,"index":"b0p","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"ongp43w7nzdgi120lr6a5q","type":"text","x":4582.8,"y":13482.5,"width":369.6,"height":35,"angle":0,"strokeColor":"#E65100","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[blockquote]","text":"[blockquote]","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"l592drfs398bq2lqoe6uv","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":1356718066,"index":"b0q","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"kl99z2bn5cda1gxhvoivx5","type":"arrow","x":3981.6000000000004,"y":18340,"width":486,"height":4840,"angle":0,"strokeColor":"#F9A825","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.4,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[243,0],[243,-4840],[486,-4840]],"startBinding":{"elementId":"57e71xye2enxq883w1rx","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"l592drfs398bq2lqoe6uv","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":476434478,"index":"b0r","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"qdehnktd6ac54ypkh2cnf","type":"embeddable","x":4467.6,"y":13740,"width":600,"height":400,"angle":0,"strokeColor":"#F9A825","backgroundColor":"#FFF8E1","fillStyle":"solid","strokeWidth":2.1,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"5tqzrs6z5oo4qpg2yhgl74"},{"type":"text","id":"7xjpk5klphpt0pfeh992ql"}],"link":"demo.md","customData":{"jsonValue":{"type":"paragraph","content":[{"type":"text","text":"闭包, 我个人理解就是:"}]}},"version":2,"versionNonce":566301106,"index":"b0s","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"7xjpk5klphpt0pfeh992ql","type":"text","x":4598.200000000001,"y":13922.5,"width":338.80000000000007,"height":35,"angle":0,"strokeColor":"#E65100","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[paragraph]","text":"[paragraph]","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"qdehnktd6ac54ypkh2cnf","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":601332334,"index":"b0t","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"5tqzrs6z5oo4qpg2yhgl74","type":"arrow","x":3981.6000000000004,"y":18340,"width":486,"height":4400,"angle":0,"strokeColor":"#F9A825","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.4,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[243,0],[243,-4400],[486,-4400]],"startBinding":{"elementId":"57e71xye2enxq883w1rx","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"qdehnktd6ac54ypkh2cnf","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":1524108146,"index":"b0u","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"vv0zfbdk5a98zrdg3nxeot","type":"embeddable","x":4467.6,"y":14180,"width":600,"height":400,"angle":0,"strokeColor":"#F9A825","backgroundColor":"#FFF8E1","fillStyle":"solid","strokeWidth":2.1,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"7jt7lers8odpfpg2tgf1z"},{"type":"text","id":"0ge7jdo4efsb9y7vhf9ow"}],"link":"demo.md","customData":{"jsonValue":{"type":"ordered_list","attrs":{"order":1},"content":[{"type":"list_item","content":[{"type":"paragraph","content":[{"type":"text","text":"闭包形成:"}]},{"type":"paragraph","content":[{"type":"text","text":"如果一个函数/"},{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"},{"type":"text","text":", 捕获了"},{"type":"text","marks":[{"type":"strong"}],"text":"定义时"},{"type":"text","text":" 函数/"},{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"},{"type":"text","text":"外部的非全局或静态变量时, 此函数和其捕获的变量, 形成一个闭包"}]},{"type":"paragraph","content":[{"type":"text","text":"闭包形成之后, 闭包封闭、包装, "},{"type":"text","marks":[{"type":"strong"}],"text":"将捕获的变量\"包装\"到函数/"},{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"},{"type":"text","text":"内部, 不再直接依赖外部变量"}]},{"type":"paragraph","content":[{"type":"text","text":"但, 这里的\"包装\"形式 针对不同的类型也是有区别的: "},{"type":"text","marks":[{"type":"code_inline"}],"text":"var"},{"type":"text","text":"或"},{"type":"text","marks":[{"type":"code_inline"}],"text":"let"},{"type":"text","text":"变量有区别, 值类型和引用类型变量也有区别"}]}]},{"type":"list_item","content":[{"type":"paragraph","content":[{"type":"text","text":"闭包调用"}]},{"type":"paragraph","content":[{"type":"text","text":"闭包可以直接像函数一样调用, 非特殊通常情况下也"},{"type":"text","marks":[{"type":"strong"}],"text":"可以作为一等公民使用"}]},{"type":"paragraph","content":[{"type":"text","text":"而且, 调用时能够访问到捕获的变量, 即使 "},{"type":"text","marks":[{"type":"strong"}],"text":"闭包调用时的作用域 已经不在 被捕获变量 定义时的有效作用域"}]}]}]}},"version":2,"versionNonce":1729502382,"index":"b0v","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"0ge7jdo4efsb9y7vhf9ow","type":"text","x":4629,"y":14345,"width":277.20000000000005,"height":70,"angle":0,"strokeColor":"#E65100","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[ordered_list]","text":"[ordered_\nlist]","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"vv0zfbdk5a98zrdg3nxeot","autoResize":true,"lineHeight":1.25,"lineCount":2,"version":2,"versionNonce":1382665522,"index":"b0w","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"7jt7lers8odpfpg2tgf1z","type":"arrow","x":3981.6000000000004,"y":18340,"width":486,"height":3960,"angle":0,"strokeColor":"#F9A825","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.4,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[243,0],[243,-3960],[486,-3960]],"startBinding":{"elementId":"57e71xye2enxq883w1rx","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"vv0zfbdk5a98zrdg3nxeot","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":1003116270,"index":"b0x","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"dqmizfjpyfjtxm2z978n1","type":"embeddable","x":4467.6,"y":14620,"width":600,"height":400,"angle":0,"strokeColor":"#F9A825","backgroundColor":"#FFF8E1","fillStyle":"solid","strokeWidth":2.1,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"futjn5wmmfn94jv55uz1at"},{"type":"text","id":"h0e643fwgjq9g86pg3awi5"}],"link":"demo.md","customData":{"jsonValue":{"type":"blockquote","content":[{"type":"paragraph","content":[{"type":"text","text":"函数或 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"},{"type":"text","text":" 的定义中对于以下几种变量的访问，称为"},{"type":"text","marks":[{"type":"strong"}],"text":"变量捕获"},{"type":"text","text":"："}]},{"type":"bullet_list","content":[{"type":"list_item","content":[{"type":"paragraph","content":[{"type":"text","text":"函数的参数缺省值中 访问了 本函数之外定义的局部变量"}]}]},{"type":"list_item","content":[{"type":"paragraph","content":[{"type":"text","text":"函数或"},{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"},{"type":"text","text":"内 访问了 本函数或本 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"},{"type":"text","text":" 之外定义的局部变量"}]}]},{"type":"list_item","content":[{"type":"paragraph","content":[{"type":"text","marks":[{"type":"code_inline"}],"text":"class/struct"},{"type":"text","text":"内定义的不是成员函数的函数或 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"},{"type":"text","text":" 访问了实例成员变量或 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"this"}]}]}]},{"type":"paragraph","content":[{"type":"text","text":"以下情形的变量访问"},{"type":"text","marks":[{"type":"strong"}],"text":"不是变量捕获"},{"type":"text","text":"："}]},{"type":"bullet_list","content":[{"type":"list_item","content":[{"type":"paragraph","content":[{"type":"text","text":"对定义在本函数或本 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"},{"type":"text","text":" 内的局部变量的访问"}]}]},{"type":"list_item","content":[{"type":"paragraph","content":[{"type":"text","text":"对本函数或本 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"},{"type":"text","text":" 的形参的访问"}]}]},{"type":"list_item","content":[{"type":"paragraph","content":[{"type":"text","text":"对全局变量和静态成员变量的访问"}]}]},{"type":"list_item","content":[{"type":"paragraph","content":[{"type":"text","text":"对实例成员变量在实例成员函数或属性中的访问"}]},{"type":"paragraph","content":[{"type":"text","text":"由于实例成员函数或属性将 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"this"},{"type":"text","text":" 作为参数传入，在实例成员函数或属性内通过 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"this"},{"type":"text","text":" 访问所有实例成员变量"}]}]}]},{"type":"paragraph","content":[{"type":"text","marks":[{"type":"strong"}],"text":"变量的捕获发生在闭包定义时"},{"type":"text","text":"，因此变量捕获有以下规则："}]},{"type":"bullet_list","content":[{"type":"list_item","content":[{"type":"paragraph","content":[{"type":"text","text":"被捕获的变量"},{"type":"text","marks":[{"type":"strong"}],"text":"必须在闭包定义时可见"},{"type":"text","text":"，否则编译报错"}]}]},{"type":"list_item","content":[{"type":"paragraph","content":[{"type":"text","text":"被捕获的变量"},{"type":"text","marks":[{"type":"strong"}],"text":"必须在闭包定义时已经完成初始化"},{"type":"text","text":"，否则编译报错"}]}]}]}]}},"version":2,"versionNonce":2111657714,"index":"b0y","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"h0e643fwgjq9g86pg3awi5","type":"text","x":4582.8,"y":14802.5,"width":369.6,"height":35,"angle":0,"strokeColor":"#E65100","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[blockquote]","text":"[blockquote]","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"dqmizfjpyfjtxm2z978n1","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":1518160174,"index":"b0z","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"futjn5wmmfn94jv55uz1at","type":"arrow","x":3981.6000000000004,"y":18340,"width":486,"height":3520,"angle":0,"strokeColor":"#F9A825","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.4,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[243,0],[243,-3520],[486,-3520]],"startBinding":{"elementId":"57e71xye2enxq883w1rx","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"dqmizfjpyfjtxm2z978n1","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":230271154,"index":"b10","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"582qqby792604d4pea0s9in","type":"embeddable","x":4467.6,"y":15060,"width":600,"height":400,"angle":0,"strokeColor":"#F9A825","backgroundColor":"#FFF8E1","fillStyle":"solid","strokeWidth":2.1,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"nk4r02qbm46z2f0r0fuba"},{"type":"text","id":"9lia44z9dklp5szfljwnde"}],"link":"demo.md","customData":{"jsonValue":{"type":"paragraph","content":[{"type":"text","text":"仓颉中, 捕获变量动作发生在闭包定义时"}]}},"version":2,"versionNonce":43512686,"index":"b11","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"9lia44z9dklp5szfljwnde","type":"text","x":4598.200000000001,"y":15242.5,"width":338.80000000000007,"height":35,"angle":0,"strokeColor":"#E65100","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[paragraph]","text":"[paragraph]","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"582qqby792604d4pea0s9in","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":161858162,"index":"b12","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"nk4r02qbm46z2f0r0fuba","type":"arrow","x":3981.6000000000004,"y":18340,"width":486,"height":3080,"angle":0,"strokeColor":"#F9A825","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.4,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[243,0],[243,-3080],[486,-3080]],"startBinding":{"elementId":"57e71xye2enxq883w1rx","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"582qqby792604d4pea0s9in","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":509826478,"index":"b13","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"u17nahzxrybj54fe81pvd","type":"embeddable","x":4467.6,"y":15500,"width":600,"height":400,"angle":0,"strokeColor":"#F9A825","backgroundColor":"#FFF8E1","fillStyle":"solid","strokeWidth":2.1,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"u7lhwcij8df5bapv5wbr"},{"type":"text","id":"vd31bed39who4zfezeybye"}],"link":"demo.md","customData":{"jsonValue":{"type":"paragraph","content":[{"type":"text","text":"且仓颉闭包中使用到的外部变量, 会被自动捕获"}]}},"version":2,"versionNonce":1818797106,"index":"b14","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"vd31bed39who4zfezeybye","type":"text","x":4598.200000000001,"y":15682.5,"width":338.80000000000007,"height":35,"angle":0,"strokeColor":"#E65100","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[paragraph]","text":"[paragraph]","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"u17nahzxrybj54fe81pvd","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":1728606190,"index":"b15","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"u7lhwcij8df5bapv5wbr","type":"arrow","x":3981.6000000000004,"y":18340,"width":486,"height":2640,"angle":0,"strokeColor":"#F9A825","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.4,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[243,0],[243,-2640],[486,-2640]],"startBinding":{"elementId":"57e71xye2enxq883w1rx","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"u17nahzxrybj54fe81pvd","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":1072254450,"index":"b16","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"x5q3khyl6c56iu6aswf8b","type":"embeddable","x":4467.6,"y":15940,"width":600,"height":400,"angle":0,"strokeColor":"#F9A825","backgroundColor":"#FFF8E1","fillStyle":"solid","strokeWidth":2.1,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"essjtqo3edjcd97pavtatf"},{"type":"text","id":"7z0e4il9upmg3tvn25s4xo"}],"link":"demo.md","customData":{"jsonValue":{"type":"paragraph","content":[{"type":"text","text":"并不是 所有变量在闭包访问都属于变量捕获"}]}},"version":2,"versionNonce":143671854,"index":"b17","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"7z0e4il9upmg3tvn25s4xo","type":"text","x":4598.200000000001,"y":16122.5,"width":338.80000000000007,"height":35,"angle":0,"strokeColor":"#E65100","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[paragraph]","text":"[paragraph]","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"x5q3khyl6c56iu6aswf8b","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":959365042,"index":"b18","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"essjtqo3edjcd97pavtatf","type":"arrow","x":3981.6000000000004,"y":18340,"width":486,"height":2200,"angle":0,"strokeColor":"#F9A825","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.4,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[243,0],[243,-2200],[486,-2200]],"startBinding":{"elementId":"57e71xye2enxq883w1rx","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"x5q3khyl6c56iu6aswf8b","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":1172556910,"index":"b19","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"1uqylxp9od3hki2z5egvzu","type":"embeddable","x":4467.6,"y":16380,"width":600,"height":400,"angle":0,"strokeColor":"#F9A825","backgroundColor":"#FFF8E1","fillStyle":"solid","strokeWidth":2.1,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"dso77bk7dco74z52y03o06"},{"type":"text","id":"gje0i0yq29h2syl74oemh4"}],"link":"demo.md","customData":{"jsonValue":{"type":"paragraph","content":[{"type":"text","text":"变量捕获只针对 非本函数/本"},{"type":"text","marks":[{"type":"code_inline"}],"text":"lambda"},{"type":"text","text":"的局部变量, 以及成员变量或"},{"type":"text","marks":[{"type":"code_inline"}],"text":"this"}]}},"version":2,"versionNonce":1415575922,"index":"b1A","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"gje0i0yq29h2syl74oemh4","type":"text","x":4598.200000000001,"y":16562.5,"width":338.80000000000007,"height":35,"angle":0,"strokeColor":"#E65100","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[paragraph]","text":"[paragraph]","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"1uqylxp9od3hki2z5egvzu","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":483135150,"index":"b1B","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"dso77bk7dco74z52y03o06","type":"arrow","x":3981.6000000000004,"y":18340,"width":486,"height":1760,"angle":0,"strokeColor":"#F9A825","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.4,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[243,0],[243,-1760],[486,-1760]],"startBinding":{"elementId":"57e71xye2enxq883w1rx","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"1uqylxp9od3hki2z5egvzu","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":1891892018,"index":"b1C","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"pi653fkhkparlzw7fvpsz","type":"embeddable","x":4467.6,"y":16820,"width":600,"height":400,"angle":0,"strokeColor":"#F9A825","backgroundColor":"#FFF8E1","fillStyle":"solid","strokeWidth":2.1,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"k1o7qof5mlyps20gcszf"},{"type":"text","id":"f3nehm7zbuenlgjaaea14o"}],"link":"demo.md","customData":{"jsonValue":{"type":"paragraph","content":[{"type":"text","text":"静态变量或全局变量的访问, 不属于变量捕获, 对本身形参的访问就更不属于了"}]}},"version":2,"versionNonce":1777469678,"index":"b1D","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"f3nehm7zbuenlgjaaea14o","type":"text","x":4598.200000000001,"y":17002.5,"width":338.80000000000007,"height":35,"angle":0,"strokeColor":"#E65100","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[paragraph]","text":"[paragraph]","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"pi653fkhkparlzw7fvpsz","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":1824638194,"index":"b1E","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"k1o7qof5mlyps20gcszf","type":"arrow","x":3981.6000000000004,"y":18340,"width":486,"height":1320,"angle":0,"strokeColor":"#F9A825","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.4,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[243,0],[243,-1320],[486,-1320]],"startBinding":{"elementId":"57e71xye2enxq883w1rx","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"pi653fkhkparlzw7fvpsz","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":215923502,"index":"b1F","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"sdu9e45rlskjc1qdj50gho","type":"embeddable","x":4467.6,"y":17260,"width":600,"height":400,"angle":0,"strokeColor":"#F9A825","backgroundColor":"#FFF8E1","fillStyle":"solid","strokeWidth":2.1,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"cuzhhwloj5ttznlwx8udge"},{"type":"text","id":"n5ligyysevsb6g2jlkmsjr"}],"link":"demo.md","customData":{"jsonValue":{"type":"paragraph","content":[{"type":"text","text":"具体下面有所展示"}]}},"version":2,"versionNonce":1105221298,"index":"b1G","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"n5ligyysevsb6g2jlkmsjr","type":"text","x":4598.200000000001,"y":17442.5,"width":338.80000000000007,"height":35,"angle":0,"strokeColor":"#E65100","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[paragraph]","text":"[paragraph]","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"sdu9e45rlskjc1qdj50gho","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":201008494,"index":"b1H","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"cuzhhwloj5ttznlwx8udge","type":"arrow","x":3981.6000000000004,"y":18340,"width":486,"height":880,"angle":0,"strokeColor":"#F9A825","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.4,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[243,0],[243,-880],[486,-880]],"startBinding":{"elementId":"57e71xye2enxq883w1rx","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"sdu9e45rlskjc1qdj50gho","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":549892210,"index":"b1I","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"sb1b0d3jex0jwhptb5oah","type":"embeddable","x":4467.6,"y":17700,"width":600,"height":400,"angle":0,"strokeColor":"#F9A825","backgroundColor":"#FFF8E1","fillStyle":"solid","strokeWidth":2.1,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"6k1h95hyg3gnkutluurvo"},{"type":"text","id":"jipg0lsgksbitd3xkittle"}],"link":"demo.md","customData":{"jsonValue":{"type":"blockquote","content":[{"type":"paragraph","content":[{"type":"text","text":"示例 1：闭包 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"add"},{"type":"text","text":"，"},{"type":"text","marks":[{"type":"strong"}],"text":"捕获了"},{"type":"text","marks":[{"type":"code_inline"}],"text":"let"},{"type":"text","text":"声明的局部变量"},{"type":"text","marks":[{"type":"code_inline"}],"text":"num"},{"type":"text","text":"，之后通过返回值返回到 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"num"},{"type":"text","text":" 定义的作用域之外，调用 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"add"},{"type":"text","text":" 时仍可正常访问 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"num"}]},{"type":"code_fence","attrs":{"language":"cangjie"},"content":[{"type":"text","text":"func returnAddNum(): (Int64) -> Int64 {\n    let num: Int64 = 10\n\n    func add(a: Int64) {\n        return a + num\n    }\n    add\n}\n\nmain() {\n    let f = returnAddNum()\n    println(f(10))\n}"}]},{"type":"paragraph","content":[{"type":"text","text":"程序输出的结果为："}]},{"type":"code_fence","attrs":{"language":"text"},"content":[{"type":"text","text":"20"}]}]}},"version":2,"versionNonce":948979630,"index":"b1J","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"jipg0lsgksbitd3xkittle","type":"text","x":4582.8,"y":17882.5,"width":369.6,"height":35,"angle":0,"strokeColor":"#E65100","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[blockquote]","text":"[blockquote]","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"sb1b0d3jex0jwhptb5oah","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":222024242,"index":"b1K","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"6k1h95hyg3gnkutluurvo","type":"arrow","x":3981.6000000000004,"y":18340,"width":486,"height":440,"angle":0,"strokeColor":"#F9A825","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.4,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[243,0],[243,-440],[486,-440]],"startBinding":{"elementId":"57e71xye2enxq883w1rx","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"sb1b0d3jex0jwhptb5oah","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":1388782062,"index":"b1L","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"49q2tkplayt3h6mplub8zd","type":"embeddable","x":4467.6,"y":18140,"width":600,"height":400,"angle":0,"strokeColor":"#F9A825","backgroundColor":"#FFF8E1","fillStyle":"solid","strokeWidth":2.1,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"rhobp1m66tf86jsp20a0t6"},{"type":"text","id":"sbx6es29f0g9570i8i312m"}],"link":"demo.md","customData":{"jsonValue":{"type":"paragraph","content":[{"type":"text","text":"此例中, 嵌套函数"},{"type":"text","marks":[{"type":"code_inline"}],"text":"add"},{"type":"text","text":" 捕获了 外层函数中"},{"type":"text","marks":[{"type":"code_inline"}],"text":"let"},{"type":"text","text":"声明的局部变量"},{"type":"text","marks":[{"type":"code_inline"}],"text":"num"},{"type":"text","text":", 形成闭包"}]}},"version":2,"versionNonce":2049358834,"index":"b1M","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"sbx6es29f0g9570i8i312m","type":"text","x":4598.200000000001,"y":18322.5,"width":338.80000000000007,"height":35,"angle":0,"strokeColor":"#E65100","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[paragraph]","text":"[paragraph]","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"49q2tkplayt3h6mplub8zd","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":766030894,"index":"b1N","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"rhobp1m66tf86jsp20a0t6","type":"arrow","x":3981.6000000000004,"y":18340,"width":486,"height":0,"angle":0,"strokeColor":"#F9A825","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.4,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[486,0]],"startBinding":{"elementId":"57e71xye2enxq883w1rx","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"49q2tkplayt3h6mplub8zd","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":1703833010,"index":"b1O","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"unzs608wz4ocnipe2t9zav","type":"embeddable","x":4467.6,"y":18580,"width":600,"height":400,"angle":0,"strokeColor":"#F9A825","backgroundColor":"#FFF8E1","fillStyle":"solid","strokeWidth":2.1,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"ced52uxr5fnovfdlklioq"},{"type":"text","id":"01j8jn7gdo1eal4u4o5sixj"}],"link":"demo.md","customData":{"jsonValue":{"type":"paragraph","content":[{"type":"text","text":"变量"},{"type":"text","marks":[{"type":"code_inline"}],"text":"num"},{"type":"text","text":"被\"包装\"到"},{"type":"text","marks":[{"type":"code_inline"}],"text":"add"},{"type":"text","text":"中, "},{"type":"text","marks":[{"type":"code_inline"}],"text":"add"},{"type":"text","text":"作为一等公民返回"}]}},"version":2,"versionNonce":1394474606,"index":"b1P","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"01j8jn7gdo1eal4u4o5sixj","type":"text","x":4598.200000000001,"y":18762.5,"width":338.80000000000007,"height":35,"angle":0,"strokeColor":"#E65100","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[paragraph]","text":"[paragraph]","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"unzs608wz4ocnipe2t9zav","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":1956243314,"index":"b1Q","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"ced52uxr5fnovfdlklioq","type":"arrow","x":3981.6000000000004,"y":18340,"width":486,"height":440,"angle":0,"strokeColor":"#F9A825","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.4,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[243,0],[243,440],[486,440]],"startBinding":{"elementId":"57e71xye2enxq883w1rx","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"unzs608wz4ocnipe2t9zav","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":670040238,"index":"b1R","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"dh0lpeugsuvbsj5yax7v9","type":"embeddable","x":4467.6,"y":19020,"width":600,"height":400,"angle":0,"strokeColor":"#F9A825","backgroundColor":"#FFF8E1","fillStyle":"solid","strokeWidth":2.1,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"a7jz9apn9hfdublowd0shg"},{"type":"text","id":"y5ohck2m1vat093jh5t9p"}],"link":"demo.md","customData":{"jsonValue":{"type":"blockquote","content":[{"type":"paragraph","content":[{"type":"text","text":"示例 2：捕获的变量"},{"type":"text","marks":[{"type":"strong"}],"text":"必须在闭包定义时可见"}]},{"type":"code_fence","attrs":{"language":"cangjie"},"content":[{"type":"text","text":"func f() {\n    let x = 99\n    func f1() {\n        println(x)\n    }\n    let f2 = { =>\n        println(y)            // Error, 无法捕获尚未定义的'y'\n    }\n    let y = 88\n    f1()                      // Print 99\n    f2()\n}"}]},{"type":"paragraph","content":[{"type":"text","text":"示例 3：捕获的变量"},{"type":"text","marks":[{"type":"strong"}],"text":"必须在闭包定义前完成初始化"}]},{"type":"code_fence","attrs":{"language":"cangjie"},"content":[{"type":"text","text":"func f() {\n    let x: Int64\n    func f1() {\n        println(x)            // Error, x 还未初始化\n    }\n    x = 99\n    f1()\n}"}]}]}},"version":2,"versionNonce":261105970,"index":"b1S","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"y5ohck2m1vat093jh5t9p","type":"text","x":4582.8,"y":19202.5,"width":369.6,"height":35,"angle":0,"strokeColor":"#E65100","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[blockquote]","text":"[blockquote]","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"dh0lpeugsuvbsj5yax7v9","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":264747758,"index":"b1T","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"a7jz9apn9hfdublowd0shg","type":"arrow","x":3981.6000000000004,"y":18340,"width":486,"height":880,"angle":0,"strokeColor":"#F9A825","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.4,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[243,0],[243,880],[486,880]],"startBinding":{"elementId":"57e71xye2enxq883w1rx","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"dh0lpeugsuvbsj5yax7v9","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":2111320818,"index":"b1U","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"66b1jwn30yt3shvl3mrlnz","type":"embeddable","x":4467.6,"y":19460,"width":600,"height":400,"angle":0,"strokeColor":"#F9A825","backgroundColor":"#FFF8E1","fillStyle":"solid","strokeWidth":2.1,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"e9oxpr8r40tx55pnl53wy"},{"type":"text","id":"f98pprile7wdyomv0qg78"}],"link":"demo.md","customData":{"jsonValue":{"type":"paragraph","content":[{"type":"text","text":"仓颉捕获变量, "},{"type":"text","marks":[{"type":"strong"}],"text":"只能捕获可见的变量, 且只能捕获已经初始化的变量"},{"type":"text","text":", 否则编译错误"}]}},"version":2,"versionNonce":288238894,"index":"b1V","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"f98pprile7wdyomv0qg78","type":"text","x":4598.200000000001,"y":19642.5,"width":338.80000000000007,"height":35,"angle":0,"strokeColor":"#E65100","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[paragraph]","text":"[paragraph]","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"66b1jwn30yt3shvl3mrlnz","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":33096882,"index":"b1W","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"e9oxpr8r40tx55pnl53wy","type":"arrow","x":3981.6000000000004,"y":18340,"width":486,"height":1320,"angle":0,"strokeColor":"#F9A825","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.4,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[243,0],[243,1320],[486,1320]],"startBinding":{"elementId":"57e71xye2enxq883w1rx","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"66b1jwn30yt3shvl3mrlnz","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":2039240558,"index":"b1X","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"mbun83c3ag8fea4fdwcjrb","type":"embeddable","x":4467.6,"y":19900,"width":600,"height":400,"angle":0,"strokeColor":"#F9A825","backgroundColor":"#FFF8E1","fillStyle":"solid","strokeWidth":2.1,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"uxuiq8tym0khpsx3tt1xe"},{"type":"text","id":"m7t3zlxtqbboq0nu8573wq"}],"link":"demo.md","customData":{"jsonValue":{"type":"blockquote","content":[{"type":"paragraph","content":[{"type":"text","text":"如果捕获的变量是引用类型，可修改其可变实例成员变量的值"}]},{"type":"code_fence","attrs":{"language":"cangjie"},"content":[{"type":"text","text":"class C {\n    public var num: Int64 = 0\n}\n\nfunc returnIncrementer(): () -> Unit {\n    let c: C = C()\n\n    func incrementer() {\n        c.num++\n    }\n\n    incrementer\n}\n\nmain() {\n    let f = returnIncrementer()\n    f()                           // c.num 增加 1\n}"}]}]}},"version":2,"versionNonce":1973001842,"index":"b1Y","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"m7t3zlxtqbboq0nu8573wq","type":"text","x":4582.8,"y":20082.5,"width":369.6,"height":35,"angle":0,"strokeColor":"#E65100","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[blockquote]","text":"[blockquote]","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"mbun83c3ag8fea4fdwcjrb","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":19610030,"index":"b1Z","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"uxuiq8tym0khpsx3tt1xe","type":"arrow","x":3981.6000000000004,"y":18340,"width":486,"height":1760,"angle":0,"strokeColor":"#F9A825","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.4,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[243,0],[243,1760],[486,1760]],"startBinding":{"elementId":"57e71xye2enxq883w1rx","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"mbun83c3ag8fea4fdwcjrb","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":1702953010,"index":"b1a","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"9c2w8i0fj9oktp2zj73qc","type":"embeddable","x":4467.6,"y":20340,"width":600,"height":400,"angle":0,"strokeColor":"#F9A825","backgroundColor":"#FFF8E1","fillStyle":"solid","strokeWidth":2.1,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"mdb93ftp48oz4a1nnt6kzk"},{"type":"text","id":"cr2qr660oubh1qegdihh47"}],"link":"demo.md","customData":{"jsonValue":{"type":"paragraph","content":[{"type":"text","text":"仓颉中, 闭包捕获引用类型变量, 可以通过捕获的变量"},{"type":"text","marks":[{"type":"strong"}],"text":"修改原实例的成员变量"}]}},"version":2,"versionNonce":1865667566,"index":"b1b","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"cr2qr660oubh1qegdihh47","type":"text","x":4598.200000000001,"y":20522.5,"width":338.80000000000007,"height":35,"angle":0,"strokeColor":"#E65100","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[paragraph]","text":"[paragraph]","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"9c2w8i0fj9oktp2zj73qc","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":764815858,"index":"b1c","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"mdb93ftp48oz4a1nnt6kzk","type":"arrow","x":3981.6000000000004,"y":18340,"width":486,"height":2200,"angle":0,"strokeColor":"#F9A825","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.4,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[243,0],[243,2200],[486,2200]],"startBinding":{"elementId":"57e71xye2enxq883w1rx","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"9c2w8i0fj9oktp2zj73qc","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":1034888750,"index":"b1d","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"16i57rt2n5fl8zdvlbgixs","type":"embeddable","x":4467.6,"y":20780,"width":600,"height":400,"angle":0,"strokeColor":"#F9A825","backgroundColor":"#FFF8E1","fillStyle":"solid","strokeWidth":2.1,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"rshvvijj16tp38gt3lee"},{"type":"text","id":"d3hs5bpqrviarklcpcitb"}],"link":"demo.md","customData":{"jsonValue":{"type":"blockquote","content":[{"type":"paragraph","content":[{"type":"text","text":"为了防止捕获了"},{"type":"text","marks":[{"type":"code_inline"}],"text":"var"},{"type":"text","text":"声明变量的闭包逃逸，这类闭包"},{"type":"text","marks":[{"type":"strong"}],"text":"只能被调用"},{"type":"text","text":"，"},{"type":"text","marks":[{"type":"strong"}],"text":"不能作为一等公民使用"},{"type":"text","text":"，包括"},{"type":"text","marks":[{"type":"strong"}],"text":"不能赋值给变量"},{"type":"text","text":"，"},{"type":"text","marks":[{"type":"strong"}],"text":"不能作为实参或返回值使用"},{"type":"text","text":"，"},{"type":"text","marks":[{"type":"strong"}],"text":"不能直接将闭包的名字作为表达式使用"}]},{"type":"code_fence","attrs":{"language":"cangjie"},"content":[{"type":"text","text":"func f() {\n    var x = 1\n    let y = 2\n\n    func g() {\n        println(x)            // OK, 捕获一个可变变量\n    }\n    let b = g                 // Error, g 不能赋值给变量\n\n    g                         // Error, g 不能用作表达式\n    g()                       // OK, g 可以被调用\n\n    g                         // Error, g 不能用作返回值\n}"}]}]}},"version":2,"versionNonce":350231474,"index":"b1e","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"d3hs5bpqrviarklcpcitb","type":"text","x":4582.8,"y":20962.5,"width":369.6,"height":35,"angle":0,"strokeColor":"#E65100","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[blockquote]","text":"[blockquote]","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"16i57rt2n5fl8zdvlbgixs","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":1032204398,"index":"b1f","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"rshvvijj16tp38gt3lee","type":"arrow","x":3981.6000000000004,"y":18340,"width":486,"height":2640,"angle":0,"strokeColor":"#F9A825","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.4,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[243,0],[243,2640],[486,2640]],"startBinding":{"elementId":"57e71xye2enxq883w1rx","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"16i57rt2n5fl8zdvlbgixs","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":1770378610,"index":"b1g","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"7x2b8w1tdg30cnkwmxbsg4p","type":"embeddable","x":4467.6,"y":21220,"width":600,"height":400,"angle":0,"strokeColor":"#F9A825","backgroundColor":"#FFF8E1","fillStyle":"solid","strokeWidth":2.1,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"6obphnqc6hpo5iilwvax"},{"type":"text","id":"xxerq8ucipv9ls5x10l6"}],"link":"demo.md","customData":{"jsonValue":{"type":"paragraph","content":[{"type":"text","text":"仓颉规定, "},{"type":"text","marks":[{"type":"code_inline"}],"text":"var"},{"type":"text","text":"声明的变量被捕获之后, 闭包只能被调用, 不能作为一等公民使用"}]}},"version":2,"versionNonce":981594798,"index":"b1h","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"xxerq8ucipv9ls5x10l6","type":"text","x":4598.200000000001,"y":21402.5,"width":338.80000000000007,"height":35,"angle":0,"strokeColor":"#E65100","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[paragraph]","text":"[paragraph]","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"7x2b8w1tdg30cnkwmxbsg4p","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":483284786,"index":"b1i","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"6obphnqc6hpo5iilwvax","type":"arrow","x":3981.6000000000004,"y":18340,"width":486,"height":3080,"angle":0,"strokeColor":"#F9A825","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.4,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[243,0],[243,3080],[486,3080]],"startBinding":{"elementId":"57e71xye2enxq883w1rx","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"7x2b8w1tdg30cnkwmxbsg4p","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":525036782,"index":"b1j","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"fjdu27gr4t3c855pyd9","type":"embeddable","x":4467.6,"y":21660,"width":600,"height":400,"angle":0,"strokeColor":"#F9A825","backgroundColor":"#FFF8E1","fillStyle":"solid","strokeWidth":2.1,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"djc65x00ir5w9q7fatays"},{"type":"text","id":"l91zcghemaznrm8wlg1jh"}],"link":"demo.md","customData":{"jsonValue":{"type":"paragraph","content":[{"type":"text","text":"主要是为了防止引用类型变量的闭包逃逸"}]}},"version":2,"versionNonce":1595973874,"index":"b1k","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"l91zcghemaznrm8wlg1jh","type":"text","x":4598.200000000001,"y":21842.5,"width":338.80000000000007,"height":35,"angle":0,"strokeColor":"#E65100","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[paragraph]","text":"[paragraph]","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"fjdu27gr4t3c855pyd9","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":426483502,"index":"b1l","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"djc65x00ir5w9q7fatays","type":"arrow","x":3981.6000000000004,"y":18340,"width":486,"height":3520,"angle":0,"strokeColor":"#F9A825","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.4,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[243,0],[243,3520],[486,3520]],"startBinding":{"elementId":"57e71xye2enxq883w1rx","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"fjdu27gr4t3c855pyd9","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":1006875314,"index":"b1m","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"b69qyvg3oh97jw9d2iubmi","type":"embeddable","x":4467.6,"y":22100,"width":600,"height":400,"angle":0,"strokeColor":"#F9A825","backgroundColor":"#FFF8E1","fillStyle":"solid","strokeWidth":2.1,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"ft5yunbtsvojutb6l9lqmd"},{"type":"text","id":"gyno0m7wwlse9lb5vu9dd"}],"link":"demo.md","customData":{"jsonValue":{"type":"paragraph","content":[{"type":"text","text":"值类型变量被捕获之后, 闭包中拥有的是变量的副本"}]}},"version":2,"versionNonce":1028360558,"index":"b1n","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"gyno0m7wwlse9lb5vu9dd","type":"text","x":4598.200000000001,"y":22282.5,"width":338.80000000000007,"height":35,"angle":0,"strokeColor":"#E65100","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[paragraph]","text":"[paragraph]","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"b69qyvg3oh97jw9d2iubmi","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":907971698,"index":"b1o","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"ft5yunbtsvojutb6l9lqmd","type":"arrow","x":3981.6000000000004,"y":18340,"width":486,"height":3960,"angle":0,"strokeColor":"#F9A825","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.4,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[243,0],[243,3960],[486,3960]],"startBinding":{"elementId":"57e71xye2enxq883w1rx","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"b69qyvg3oh97jw9d2iubmi","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":708062126,"index":"b1p","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"fl99bjs1u5bh0z9tvb3p","type":"embeddable","x":4467.6,"y":22540,"width":600,"height":400,"angle":0,"strokeColor":"#F9A825","backgroundColor":"#FFF8E1","fillStyle":"solid","strokeWidth":2.1,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"nu8b9gvjb7rg60xc7i3qn"},{"type":"text","id":"f2voeq2shk2mngl3yseh4"}],"link":"demo.md","customData":{"jsonValue":{"type":"paragraph","content":[{"type":"text","text":"但引用类型变量被捕获则不同, 引用类型变量被捕获捕获的就是原引用类型变量, 你是可以对原实例的成员做出修改的"}]}},"version":2,"versionNonce":1664626226,"index":"b1q","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"f2voeq2shk2mngl3yseh4","type":"text","x":4598.200000000001,"y":22722.5,"width":338.80000000000007,"height":35,"angle":0,"strokeColor":"#E65100","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[paragraph]","text":"[paragraph]","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"fl99bjs1u5bh0z9tvb3p","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":776898030,"index":"b1r","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"nu8b9gvjb7rg60xc7i3qn","type":"arrow","x":3981.6000000000004,"y":18340,"width":486,"height":4400,"angle":0,"strokeColor":"#F9A825","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.4,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[243,0],[243,4400],[486,4400]],"startBinding":{"elementId":"57e71xye2enxq883w1rx","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"fl99bjs1u5bh0z9tvb3p","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":137861106,"index":"b1s","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"9axpm8pez8spc9bn2shzq","type":"embeddable","x":4467.6,"y":22980,"width":600,"height":400,"angle":0,"strokeColor":"#F9A825","backgroundColor":"#FFF8E1","fillStyle":"solid","strokeWidth":2.1,"strokeStyle":"solid","opacity":100,"roundness":{"type":3},"boundElements":[{"type":"arrow","id":"qwrh3x1437dc8br9o0yic"},{"type":"text","id":"mewah76oav92q1wkrkiugj"}],"link":"demo.md","customData":{"jsonValue":{"type":"blockquote","content":[{"type":"paragraph","content":[{"type":"text","text":"需要注意的是，捕获具有传递性"}]},{"type":"paragraph","content":[{"type":"text","text":"如果一个函数 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"f"},{"type":"text","text":" 调用了捕获 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"var"},{"type":"text","text":" 变量的函数 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"g"},{"type":"text","text":"，且 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"g"},{"type":"text","text":" 捕获的 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"var"},{"type":"text","text":" 变量不在函数 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"f"},{"type":"text","text":" 内定义，那么函数 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"f"},{"type":"text","text":" 同样捕获了 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"var"},{"type":"text","text":" 变量，此时，"},{"type":"text","marks":[{"type":"code_inline"}],"text":"f"},{"type":"text","text":" 也不能作为一等公民使用"}]},{"type":"paragraph","content":[{"type":"text","text":"以下示例中，"},{"type":"text","marks":[{"type":"code_inline"}],"text":"g"},{"type":"text","text":" 捕获了 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"var"},{"type":"text","text":" 声明的变量 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"x"},{"type":"text","text":"，"},{"type":"text","marks":[{"type":"code_inline"}],"text":"f"},{"type":"text","text":" 调用了 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"g"},{"type":"text","text":"，且 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"g"},{"type":"text","text":" 捕获的 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"x"},{"type":"text","text":" 不在 "},{"type":"text","marks":[{"type":"code_inline"}],"text":"f"},{"type":"text","text":" 内定义，"},{"type":"text","marks":[{"type":"code_inline"}],"text":"f"},{"type":"text","text":" 同样不能作为一等公民使用："}]},{"type":"code_fence","attrs":{"language":"cangjie"},"content":[{"type":"text","text":"func h(){\n    var x = 1\n\n    func g() {  x }   // 捕获一个可变变量\n\n    func f() {\n        g()      // 调用 g\n    }\n    return f // Error\n}"}]},{"type":"paragraph","content":[{"type":"text","text":"以下示例中，g 捕获了 var 声明的变量 x，f 调用了 g。但 g 捕获的 x 在 f 内定义，f 没有捕获其他 var 声明的变量。因此，f 仍作为一等公民使用："}]},{"type":"code_fence","attrs":{"language":"cangjie"},"content":[{"type":"text","text":"func h(){\n    func f() {\n        var x = 1\n        func g() { x }   // 捕获一个可变变量\n\n        g()\n    }\n    return f // Ok\n}"}]},{"type":"paragraph","content":[{"type":"text","text":"静态成员变量和全局变量的访问，不属于变量捕获，因此访问了 var 修饰的全局变量、静态成员变量的函数或 lambda 仍可作为一等公民使用。"}]},{"type":"code_fence","attrs":{"language":"cangjie"},"content":[{"type":"text","text":"class C {\n    static public var a: Int32 = 0\n    static public func foo() {\n        a++       // OK\n        return a\n    }\n}\n\nvar globalV1 = 0\n\nfunc countGlobalV1() {\n    globalV1++\n    C.a = 99\n    let g = C.foo  // OK\n}\n\nfunc g(){\n    let f = countGlobalV1 // OK\n    f()\n}"}]}]}},"version":2,"versionNonce":1789106222,"index":"b1t","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"updated":1762621900802,"locked":false},{"id":"mewah76oav92q1wkrkiugj","type":"text","x":4582.8,"y":23162.5,"width":369.6,"height":35,"angle":0,"strokeColor":"#E65100","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","opacity":100,"roundness":null,"originalText":"[blockquote]","text":"[blockquote]","fontSize":28,"fontFamily":5,"textAlign":"center","verticalAlign":"middle","containerId":"9axpm8pez8spc9bn2shzq","autoResize":true,"lineHeight":1.25,"lineCount":1,"version":2,"versionNonce":891537842,"index":"b1u","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false},{"id":"qwrh3x1437dc8br9o0yic","type":"arrow","x":3981.6000000000004,"y":18340,"width":486,"height":4840,"angle":0,"strokeColor":"#F9A825","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":1.4,"strokeStyle":"solid","opacity":100,"roundness":null,"points":[[0,0],[243,0],[243,4840],[486,4840]],"startBinding":{"elementId":"57e71xye2enxq883w1rx","focus":0.5,"gap":4,"fixedPoint":[1,0.5001]},"endBinding":{"elementId":"9axpm8pez8spc9bn2shzq","focus":0.5,"gap":4,"fixedPoint":[0,0.5001]},"startArrowhead":null,"endArrowhead":"arrow","elbowed":true,"version":2,"versionNonce":1998348910,"index":"b1v","isDeleted":false,"roughness":1,"seed":1,"groupIds":[],"frameId":null,"boundElements":[],"updated":1762621900802,"link":null,"locked":false,"lastCommittedPoint":null},{"id":"qQJDlvp0i1dUEAIqqoFK6","type":"text","x":2003,"y":5623,"width":8,"height":25,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"b1w","roundness":null,"seed":134610926,"version":3,"versionNonce":905158318,"isDeleted":true,"boundElements":null,"updated":1762621911926,"link":null,"locked":false,"text":"","fontSize":20,"fontFamily":5,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"","autoResize":true,"lineHeight":1.25}],"appState":{"showWelcomeScreen":false,"theme":"dark","collaborators":{},"currentChartType":"bar","currentItemBackgroundColor":"transparent","currentItemEndArrowhead":"arrow","currentItemFillStyle":"solid","currentItemFontFamily":5,"currentItemFontSize":20,"currentItemOpacity":100,"currentItemRoughness":1,"currentItemStartArrowhead":null,"currentItemStrokeColor":"#1e1e1e","currentItemRoundness":"round","currentItemArrowType":"round","currentItemStrokeStyle":"solid","currentItemStrokeWidth":2,"currentItemTextAlign":"left","currentHoveredFontFamily":null,"cursorButton":"up","activeEmbeddable":null,"newElement":null,"editingTextElement":null,"editingGroupId":null,"editingLinearElement":null,"activeTool":{"type":"selection","customType":null,"locked":false,"lastActiveTool":null},"penMode":false,"penDetected":false,"errorMessage":null,"exportBackground":true,"exportScale":1,"exportEmbedScene":false,"exportWithDarkMode":false,"fileHandle":null,"gridSize":20,"gridStep":5,"gridModeEnabled":false,"isBindingEnabled":true,"defaultSidebarDockedPreference":false,"isLoading":false,"isResizing":false,"isRotating":false,"lastPointerDownWith":"mouse","multiElement":null,"name":"Untitled-2025-11-09-0111","contextMenu":null,"openMenu":null,"openPopup":null,"openSidebar":null,"openDialog":null,"pasteDialog":{"shown":false,"data":null},"previousSelectedElementIds":{},"resizingElement":null,"scrolledOutside":false,"scrollX":14269.737544704452,"scrollY":3838.058782206919,"selectedElementIds":{},"hoveredElementIds":{},"selectedGroupIds":{},"selectedElementsAreBeingDragged":false,"selectionElement":null,"shouldCacheIgnoreZoom":false,"stats":{"open":false,"panels":3},"startBoundElement":null,"suggestedBindings":[],"frameRendering":{"enabled":true,"clip":true,"name":true,"outline":true},"frameToHighlight":null,"editingFrame":null,"elementsToHighlight":null,"toast":null,"viewBackgroundColor":"transparent","zenModeEnabled":false,"zoom":{"value":0.1},"viewModeEnabled":false,"pendingImageElementId":null,"showHyperlinkPopup":false,"selectedLinearElement":null,"snapLines":[],"originSnapOffset":null,"objectsSnapModeEnabled":false,"userToFollow":null,"followedBy":{},"isCropping":false,"croppingElementId":null,"searchMatches":[],"offsetLeft":398,"offsetTop":42,"width":2146,"height":1342},"files":{}}